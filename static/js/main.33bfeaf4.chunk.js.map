{"version":3,"sources":["utils.js","WebAPI.js","redux/userSlice.js","components/Navbar/Navbar.js","images/bean.svg","pages/AboutMePage/AboutMePage.js","components/Loading/Loading.js","components/NormalButton/NormalButton.js","redux/postsSlice.js","components/Post/Post.js","pages/HomePage/HomePage.js","pages/LoginPage/LoginPage.js","pages/NewPostPage/NewPostPage.js","pages/EditPostPage/EditPostPage.js","pages/PostPage/PostPage.js","components/Pagination/Pagination.js","pages/PostsPage/PostsPage.js","pages/RegisterPage/RegisterPage.js","components/App/App.js","redux/store.js","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getPostsAPI","fetch","then","res","json","getLimitedPostsAPI","page","limit","loginAPI","user","username","password","method","headers","body","JSON","stringify","registerAPI","nickname","userSlice","createSlice","name","initialState","userId","userErrorMessage","isUserLoading","reducers","setIsUserLoading","state","action","payload","setUserId","setUserErrorMessage","selectUserId","store","selectIsUserLoading","selectUserErrorMessage","actions","checkToken","dispatch","ok","console","log","message","getMe","authorization","getMeAPI","data","id","NavbarContainer","styled","div","NavbarList","Brand","Link","Nav","NavLink","Logout","a","Navbar","useDispatch","navigate","useNavigate","useSelector","isUserloading","to","children","onClick","alert","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","cx","cy","r","fill","attributeName","repeatCount","dur","values","keyTimes","begin","_ref3","transform","d","type","SvgBean","_ref","svgRef","title","titleId","props","style","margin","background","display","shapeRendering","width","height","viewBox","preserveAspectRatio","ref","ForwardRef","Root","PageWrapper","Title","h1","Content","AboutMePage","LoadingWrapper","Loading","NormalButton","button","postsSlice","isLoading","totalPostNumber","posts","post","newPostResponse","errorMessage","setIsLoading","setPost","setTotalPostsNumber","setPosts","setNewPostResponse","setErrorMessage","selectPost","selectPosts","selectIsLoading","selectErrorMessage","selectTotalPostsNumber","getLimitedPosts","getPost","getPostAPI","addPost","addPostAPI","editPost","editPostAPI","deletePost","deletePostAPI","PostContainer","PostTitle","h2","PostDate","PostBody","PostInfo","PostButton","Post","postId","location","useLocation","currentPath","pathname","Date","createdAt","toLocaleString","window","reload","LatestPosts","slice","map","HomePage","useEffect","LoginWrapper","form","InputWrapper","Input","input","ShowPasswordRadio","ErrorMessage","SubmitButton","LoginPage","useState","setUsername","setPassword","showPassword","setShowPassword","setError","setValue","setState","e","value","onSubmit","preventDefault","onChange","onFocus","htmlFor","TitleWrapper","Form","InputHeader","TitleInput","BodyInput","textarea","NewPostPage","setTitle","setBody","controlInput","col","EditPostPage","useParams","trim","PostPage","PaginationContainer","Pages","Page","PaginationDescription","Pagination","pagination","totalPostsNumber","currentPage","setCurrentPage","handleClickPage","PostsContainer","PostItem","PostsPage","setPagination","pages","useRef","current","Math","ceil","Array","from","_","getData","RegisterWrapper","RegisterPage","setNickname","Footer","App","basename","path","element","configureStore","reducer","postReducer","userReducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.33bfeaf4.chunk.js","sourcesContent":["const TOKEN_NAME = 'token';\n\nexport const setAuthToken = (token) => {\n  return localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n","import { getAuthToken } from './utils';\n\nconst BASE_URL = 'https://student-json-api.lidemy.me';\n\nexport const getPostsAPI = () => {\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`).then((res) =>\n    res.json()\n  );\n};\n\nexport const getLimitedPostsAPI = (page, limit) => {\n  return fetch(\n    `${BASE_URL}/posts?_page=${page}&_limit=${limit}&_sort=createdAt&_order=desc&_expand=user`\n  ).then((res) => res.json());\n};\n\nexport const getPostAPI = (id) => {\n  return fetch(`${BASE_URL}/posts?id=${id}&_expand=user`).then((res) => res.json());\n};\n\nexport const addPostAPI = ({ title, body }) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts`, {\n    method: 'POST',\n    headers: {\n      authorization: `Bearer ${token}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const editPostAPI = ({ title, body, id }) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: 'PATCH',\n    headers: {\n      authorization: `Bearer ${token}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const deletePostAPI = (id) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: 'DELETE',\n    headers: { authorization: `Bearer ${token}` },\n  }).then((res) => res.json());\n};\n\nexport const loginAPI = (user) => {\n  const { username, password } = user;\n  return fetch(`${BASE_URL}/login`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const registerAPI = (user) => {\n  const { nickname, username, password } = user;\n  return fetch(`${BASE_URL}/register`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getMeAPI = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { loginAPI, registerAPI, getMeAPI } from '../WebAPI';\nimport { setAuthToken, getAuthToken } from '../utils';\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    userId: null,\n    userErrorMessage: null,\n    isUserLoading: false,\n  },\n\n  reducers: {\n    setIsUserLoading(state, action) {\n      state.isUserLoading = action.payload;\n    },\n    setUserId(state, action) {\n      state.userId = action.payload;\n    },\n    setUserErrorMessage(state, action) {\n      state.userErrorMessage = action.payload;\n    },\n  },\n});\n\nexport const selectUserId = (store) => store.user.userId;\nexport const selectIsUserLoading = (store) => store.user.isUserLoading;\nexport const selectUserErrorMessage = (store) => store.user.userErrorMessage;\n\nexport const {\n  setIsUserLoading,\n  setUserId,\n  setUserErrorMessage,\n} = userSlice.actions;\n\nconst checkToken = (res, dispatch) => {\n  if (res.ok === 1) {\n    return setAuthToken(res.token);\n  }\n  console.log(res)\n  dispatch(setUserErrorMessage(res.message));\n};\n\nexport const login = (user) => async (dispatch) => {\n  dispatch(setIsUserLoading(true));\n  await loginAPI(user).then((res) => checkToken(res, dispatch));\n  return dispatch(getMe());\n};\n\nexport const register = (user) => async (dispatch) => {\n  dispatch(setIsUserLoading(true));\n  await registerAPI(user).then((res) => checkToken(res, dispatch));\n  return dispatch(getMe());\n};\n\nexport const getMe = () => (dispatch) => {\n  dispatch(setIsUserLoading(true));\n  if (getAuthToken()) {\n    return getMeAPI().then((res) => {\n      dispatch(setIsUserLoading(false));\n      if (res.ok !== 1) {\n        setAuthToken(null);\n        return;\n      }\n      dispatch(setUserId(res.data.id));\n      return res.data.id;\n    });\n  }\n  dispatch(setIsUserLoading(false));\n};\n\nexport const logout = () => (dispatch) => {\n  setAuthToken('');\n  dispatch(setUserId(null));\n  alert('登出成功');\n};\n\nexport default userSlice.reducer;\n","import { Link, NavLink, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport {\n  logout,\n  selectUserId,\n  selectIsUserLoading,\n} from '../../redux/userSlice';\n\nconst NavbarContainer = styled.div`\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  box-shadow: 0px 1px 10px rgba(0, 0, 0, 0.5);\n  padding: 0px 5vw;\n  background: white;\n`;\n\nconst NavbarList = styled.div`\n  display: flex;\n`;\n\nconst Brand = styled(Link)`\n  font-size: 32px;\n  color: #017a75;\n`;\n\nconst Nav = styled(NavLink)`\n  display: flex;\n  align-items: center;\n  margin: 0 30px;\n  height: 64px;\n`;\n\nconst Logout = styled.a`\n  display: flex;\n  align-items: center;\n  margin: 0 30px;\n  height: 64px;\n`;\n\nexport default function Navbar() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const userId = useSelector(selectUserId);\n  const isUserloading = useSelector(selectIsUserLoading);\n\n  const handleLogout = () => {\n    dispatch(logout());\n    navigate('/react-blog');\n  };\n\n  return (\n    <NavbarContainer>\n      <Brand to=\"/react-blog\" children=\"React Blog\" />\n      <NavbarList>\n        {isUserloading ? null : (\n          <>\n            <Nav to=\"/react-blog/about-me\" children=\"關於我\" />\n            <Nav to=\"/react-blog/posts\" children=\"文章列表\" />\n            {userId && <Nav to=\"/react-blog/new-post\" children=\"發表文章\" />}\n            {userId && <Logout onClick={handleLogout} children=\"登出\" />}\n            {!userId && <Nav to=\"/react-blog/login\" children=\"登入\" />}\n            {!userId && <Nav to=\"/react-blog/register\" children=\"註冊\" />}\n          </>\n        )}\n      </NavbarList>\n    </NavbarContainer>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 60,\n  cy: 50,\n  r: 4,\n  fill: \"#d7adb0\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"cx\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"95;35\",\n  keyTimes: \"0;1\",\n  begin: \"-0.67s\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0;1;1\",\n  keyTimes: \"0;0.2;1\",\n  begin: \"-0.67s\"\n})), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 60,\n  cy: 50,\n  r: 4,\n  fill: \"#d7adb0\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"cx\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"95;35\",\n  keyTimes: \"0;1\",\n  begin: \"-0.33s\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0;1;1\",\n  keyTimes: \"0;0.2;1\",\n  begin: \"-0.33s\"\n})), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 60,\n  cy: 50,\n  r: 4,\n  fill: \"#d7adb0\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"cx\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"95;35\",\n  keyTimes: \"0;1\",\n  begin: \"0s\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0;1;1\",\n  keyTimes: \"0;0.2;1\",\n  begin: \"0s\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-15 0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M50 50L20 50A30 30 0 0 0 80 50Z\",\n  fill: \"#d7d3d0\",\n  transform: \"rotate(90 50 50)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M50 50L20 50A30 30 0 0 0 80 50Z\",\n  fill: \"#d7d3d0\"\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"rotate\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0 50 50;45 50 50;0 50 50\",\n  keyTimes: \"0;0.5;1\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M50 50L20 50A30 30 0 0 1 80 50Z\",\n  fill: \"#d7d3d0\"\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"rotate\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0 50 50;-45 50 50;0 50 50\",\n  keyTimes: \"0;0.5;1\"\n})));\n\nfunction SvgBean(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    style: {\n      margin: \"auto\",\n      background: \"none\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"136px\",\n    height: \"136px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBean);\nexport default __webpack_public_path__ + \"static/media/bean.f2665f75.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\nimport { ReactComponent as Bean } from '../../images/bean.svg';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  height: calc(100vh - 143px);\n`;\n\nconst PageWrapper = styled.div`\n  width: 600px;\n  height: 400px;\n  margin: 20px auto 0;\n  padding: 20px;\n  background: rgba(210, 210, 210, 0.4);\n  text-align: center;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n`;\n\nconst Title = styled.h1`\n  font-size: 36px;\n`;\n\nconst Content = styled.div`\n  display: flex\n  justify-content: center;\n`;\n\nexport default function AboutMePage() {\n  return (\n    <Root>\n      <PageWrapper>\n        <Title>A Simple Blog</Title>\n        <Content>\n          這是 React SPA 部落格練習～\n          <br />\n          使用 React Hooks, Styled Components, React Router 6\n          <Bean />\n        </Content>\n      </PageWrapper>\n    </Root>\n  );\n}\n","import styled from 'styled-components';\nimport { ReactComponent as Bean } from '../../images/bean.svg';\n\nconst LoadingWrapper = styled.div`\n  padding-top: 150px;\n  margin: 0 auto;\n  text-align: center;\n`;\n\nexport default function Loading() {\n  return (\n    <LoadingWrapper>\n      <Bean />\n    </LoadingWrapper>\n  );\n}\n","import styled from 'styled-components';\n\nconst NormalButton = styled.button`\n  padding: 5px 10px;\n  border-radius: 10px;\n  border: transparent;\n  background: #909090;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  font-size: 16px;\n  box-shadow: 0px 5px 2px #707070;\n  &:active {\n    transform: translateY(2px);\n    box-shadow: 0px 3px 2px #888888;\n  }\n`;\n\nexport default NormalButton;","import { createSlice } from '@reduxjs/toolkit';\nimport {\n  getPostAPI,\n  getPostsAPI,\n  getLimitedPostsAPI,\n  addPostAPI,\n  editPostAPI,\n  deletePostAPI,\n} from '../WebAPI';\n\nconst postsSlice = createSlice({\n  name: 'posts',\n  initialState: {\n    isLoading: false,\n    totalPostNumber: null,\n    posts: [],\n    post: null,\n    newPostResponse: null,\n    errorMessage: null,\n  },\n\n  reducers: {\n    setIsLoading(state, action) {\n      state.isLoading = action.payload;\n    },\n    setPost(state, action) {\n      state.post = action.payload;\n    },\n    setTotalPostsNumber(state, action) {\n      state.totalPostNumber = action.payload.length;\n    },\n    setPosts(state, action) {\n      state.posts = action.payload;\n    },\n    setNewPostResponse(state, action) {\n      state.newPostResponse = action.payload;\n    },\n    setErrorMessage(state, action) {\n      state.errorMessage = action.payload;\n    },\n  },\n});\n\nexport const selectPost = (store) => store.posts.post;\nexport const selectPosts = (store) => store.posts.posts;\nexport const selectIsLoading = (store) => store.posts.isLoading;\nexport const selectNewPostResponse = (store) => store.posts.newPostResponse;\nexport const selectErrorMessage = (store) => store.posts.errorMessage;\nexport const selectTotalPostsNumber = (store) => store.posts.totalPostNumber;\n\nexport const {\n  setPost,\n  setPosts,\n  setIsLoading,\n  setErrorMessage,\n  setTotalPostsNumber,\n  setNewPostResponse,\n} = postsSlice.actions;\n\nexport const getPosts = () => (dispatch) =>\n  getPostsAPI().then((res) => dispatch(setTotalPostsNumber(res)));\n\nexport const getLimitedPosts = (page, limit) => async (dispatch) => {\n  dispatch(setIsLoading(true));\n  await getPostsAPI().then((res) => dispatch(setTotalPostsNumber(res)));\n  getLimitedPostsAPI(page, limit).then((res) => {\n    dispatch(setPosts(res));\n    dispatch(setIsLoading(false));\n  });\n};\n\nexport const getPost = (id) => (dispatch) => {\n  dispatch(setIsLoading(true));\n  return getPostAPI(id).then((res) => {\n    dispatch(setPost(res[0]));\n    dispatch(setIsLoading(false));\n    return res[0];\n  });\n};\n\nexport const addPost = (data) => (dispatch) => {\n  dispatch(setIsLoading(true));\n  return addPostAPI(data).then((res) => {\n    dispatch(setNewPostResponse(res));\n    dispatch(setIsLoading(false));\n    return res;\n  });\n};\n\nexport const editPost = (data) => () => editPostAPI(data);\n\nexport const deletePost = (id) => () => deletePostAPI(id).then((res) => res);\n\nexport default postsSlice.reducer;\n","import styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport NormalButton from '../NormalButton';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectUserId } from '../../redux/userSlice';\nimport { deletePost } from '../../redux/postsSlice';\n\nconst PostContainer = styled.div`\n  padding: 20px;\n  margin: 10px 0;\n  justify-content: space-between;\n`;\n\nconst PostTitle = styled.h2`\n  font-size: 24px;\n`;\n\nconst PostDate = styled.div`\n  color: #707070;\n`;\n\nconst PostBody = styled.div`\n  margin-top: 20px;\n  word-break: break-all;\n`;\n\nconst PostInfo = styled.div`\n  padding-bottom: 10px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n`;\n\nconst PostButton = styled(NormalButton)`\n  margin: 10px 20px 10px 0px;\n`;\n\nexport default function Post({ post }) {\n  const userId = useSelector(selectUserId);\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const currentPath = location.pathname;\n\n  const handleEditPost = (id) => () => navigate(`/react-blog/post/edit/${id}`);\n\n  const handleDeletePost = (postId) => () =>\n    dispatch(deletePost(postId)).then((res) => {\n      if (res.ok === 0) return;\n      currentPath === '/react-blog'\n        ? window.location.reload()\n        : navigate('/react-blog');\n    });\n    \n  return (\n    <PostContainer>\n      <PostTitle>\n        {userId === post.userId ? '[我的文章] ' : `[${post.user.nickname}的文章] `}\n        {post.title}\n      </PostTitle>\n      <PostInfo>\n        <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n        {userId === post.userId ? (\n          <PostButton onClick={handleEditPost(post.id)}>編輯</PostButton>\n        ) : null}\n        {userId === post.userId ? (\n          <PostButton onClick={handleDeletePost(post.id)}> 刪除</PostButton>\n        ) : null}\n      </PostInfo>\n\n      <PostBody>{post.body}</PostBody>\n    </PostContainer>\n  );\n}\n\nPost.propTypes = {\n  post: PropTypes.object.isRequired,\n};\n","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Loading from '../../components/Loading';\r\nimport Post from '../../components/Post';\r\n\r\nimport {\r\n  getLimitedPosts,\r\n  selectPosts,\r\n  selectIsLoading,\r\n} from '../../redux/postsSlice';\r\n\r\nconst Root = styled.div`\r\n  margin: 0 10vw;\r\n  min-height: calc(100vh - 123px);\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  margin-bottom: 0;\r\n`;\r\n\r\nconst LatestPosts = ({ posts }) =>\r\n  posts.slice(0, 5).map((post) => <Post key={post.id} post={post} />);\r\n\r\nexport default function HomePage() {\r\n  const dispatch = useDispatch();\r\n  const isLoading = useSelector(selectIsLoading);\r\n  const posts = useSelector(selectPosts);\r\n  useEffect(() => dispatch(getLimitedPosts(1, 5)), [dispatch]);\r\n\r\n  return (\r\n    <Root>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          <Title>最新文章</Title>\r\n          <LatestPosts posts={posts} />\r\n        </>\r\n      )}\r\n    </Root>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport NormalButton from '../../components/NormalButton';\nimport {\n  setUserErrorMessage,\n  selectIsUserLoading,\n  selectUserErrorMessage,\n  login,\n} from '../../redux/userSlice';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n`;\n\nconst Title = styled.h1`\n  font-size: 24px;\n`;\n\nconst LoginWrapper = styled.form`\n  width: 360px;\n  height: 290px;\n  margin: 20px auto 0;\n  padding: 20px;\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n`;\n\nconst InputWrapper = styled.div`\n  margin: 20px 0;\n`;\n\nconst Input = styled.input`\n  border: none;\n  outline: none;\n  padding: 5px 10px;\n  border-bottom: 1px solid #909090;\n  background: transparent;\n  letter-spacing: 5px;\n  color: #808080;\n  font-size: 16px;\n`;\n\nconst ShowPasswordRadio = styled.div`\n  margin-top: 10px;\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  margin: 10px 0;\n`;\n\nconst Loading = styled.div`\n  margin: 20px 0 10px 0;\n  color: #909090;\n`;\n\nconst SubmitButton = styled(NormalButton)`\n  margin: 10px auto;\n`;\n\nexport default function LoginPage() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const userErrorMessage = useSelector(selectUserErrorMessage);\n  const isUserLoading = useSelector(selectIsUserLoading);\n\n  const setError = () => dispatch(setUserErrorMessage(null));\n  const setValue = (setState) => (e) => setState(e.target.value);\n  const togglePassword = () => setShowPassword(showPassword ? false : true);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(login({ username, password })).then((userId) => {\n      if (userId) navigate('/react-blog');\n    });\n  };\n\n  useEffect(() => () => dispatch(setUserErrorMessage(null)), [dispatch]);\n\n  return (\n    <Root>\n      <LoginWrapper onSubmit={handleSubmit}>\n        <Title>請登入部落格</Title>\n\n        <InputWrapper>\n          帳號：\n          <Input\n            value={username}\n            onChange={setValue(setUsername)}\n            onFocus={setError}\n          />\n        </InputWrapper>\n\n        <InputWrapper>\n          密碼：\n          <Input\n            type={showPassword ? 'text' : 'password'}\n            value={password}\n            onChange={setValue(setPassword)}\n            onFocus={setError}\n          />\n          <ShowPasswordRadio>\n            <input type=\"checkbox\" onClick={togglePassword} id=\"password\" />\n            <label htmlFor=\"password\">顯示密碼 </label>\n          </ShowPasswordRadio>\n        </InputWrapper>\n\n        {isUserLoading ? (\n          <Loading>Loading...</Loading>\n        ) : (\n          <>\n            <SubmitButton>登入</SubmitButton>\n            {userErrorMessage && (\n              <ErrorMessage>{userErrorMessage}</ErrorMessage>\n            )}\n          </>\n        )}\n      </LoginWrapper>\n    </Root>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport NormalButton from '../../components/NormalButton';\nimport { selectUserId } from '../../redux/userSlice';\nimport {\n  addPost,\n  setErrorMessage,\n  selectErrorMessage,\n  selectIsLoading,\n} from '../../redux/postsSlice';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n`;\n\nconst TitleWrapper = styled.div`\n  margin-bottom: 10px;\n  text-align: center;\n`;\n\nconst Title = styled.h1`\n  font-size: 28px;\n  margin: 0px;\n`;\n\nconst Form = styled.form`\n  width: 460px;\n  height: 390px;\n  margin: 20px auto 0;\n  padding: 10px 30px 30px 30px;\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n`;\n\nconst InputWrapper = styled.div`\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst InputHeader = styled.div`\n  margin-bottom: 10px;\n`;\n\nconst TitleInput = styled.input`\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  font-size: 16px;\n`;\n\nconst BodyInput = styled.textarea`\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  height: 150px;\n  font-size: 16px;\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  font-size: 16px;\n`;\n\nconst Loading = styled.div`\n  margin: 20px 0 10px 0;\n  color: #909090;\n`;\n\nconst SubmitButton = styled(NormalButton)`\n  margin: 10px auto;\n`;\n\nexport default function NewPostPage() {\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const errorMessage = useSelector(selectErrorMessage);\n  const isLoading = useSelector(selectIsLoading);\n  const userId = useSelector(selectUserId);\n  const setError = () => dispatch(setErrorMessage(null));\n  const controlInput = (setValue) => (e) => setValue(e.target.value);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(addPost({ title, body })).then((newPostResponse) => {\n      if (!newPostResponse.id) {\n        return dispatch(setErrorMessage(newPostResponse.message));\n      }\n      navigate('/react-blog/post/' + newPostResponse.id);\n    });\n  };\n\n  useEffect(() => {\n    if (!userId) navigate('/react-blog');\n  }, [userId, navigate]);\n\n  return (\n    <Root>\n      <Form onSubmit={handleSubmit}>\n        <TitleWrapper>\n          <Title>新文章</Title>\n        </TitleWrapper>\n        <InputWrapper>\n          <InputHeader>標題：</InputHeader>\n          <TitleInput\n            value={title}\n            onChange={controlInput(setTitle)}\n            onFocus={setError}\n          />\n        </InputWrapper>\n        <InputWrapper>\n          <InputHeader>內容：</InputHeader>\n          <BodyInput\n            value={body}\n            col=\"20\"\n            onChange={controlInput(setBody)}\n            onFocus={setError}\n          />\n        </InputWrapper>\n        {isLoading ? (\n          <Loading>Loading...</Loading>\n        ) : (\n          <>\n            <SubmitButton>送出文章</SubmitButton>\n            {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n          </>\n        )}\n      </Form>\n    </Root>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport NormalButton from '../../components/NormalButton';\nimport { selectUserId } from '../../redux/userSlice';\nimport {\n  editPost,\n  getPost,\n  setErrorMessage,\n  selectErrorMessage,\n} from '../../redux/postsSlice';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n`;\n\nconst TitleWrapper = styled.div`\n  margin-bottom: 10px;\n  text-align: center;\n`;\n\nconst Title = styled.h1`\n  font-size: 28px;\n  margin: 0px;\n`;\n\nconst Form = styled.form`\n  width: 460px;\n  height: 390px;\n  margin: 20px auto 0;\n  padding: 10px 30px 30px 30px;\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n`;\n\nconst InputWrapper = styled.div`\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst InputHeader = styled.div`\n  margin-bottom: 10px;\n`;\n\nconst TitleInput = styled.input`\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  font-size: 16px;\n`;\n\nconst BodyInput = styled.textarea`\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  height: 150px;\n  font-size: 16px;\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  font-size: 16px;\n`;\n\nconst SubmitButton = styled(NormalButton)`\n  margin: 10px auto;\n`;\n\nexport default function EditPostPage() {\n  const { id } = useParams();\n  const userId = useSelector(selectUserId);\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const errorMessage = useSelector(selectErrorMessage);\n  const setError = () => dispatch(setErrorMessage(null));\n  const controlInput = (setValue) => (e) => setValue(e.target.value);\n\n  useEffect(() => {\n    dispatch(getPost(id)).then((res) => {\n      if (res.userId !== userId) return navigate('/react-blog/');\n      setTitle(res.title);\n      setBody(res.body);\n    });\n  }, [dispatch, navigate, id, userId]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!title || !body || title.trim() === '' || body.trim() === '') {\n      return dispatch(setErrorMessage('不能空白哦'));\n    }\n    dispatch(editPost({ id, title, body }));\n    navigate('/react-blog/post/' + id);\n  };\n\n  return (\n    <Root>\n      <Form onSubmit={handleSubmit}>\n        <TitleWrapper>\n          <Title>編輯文章 #{id}</Title>\n        </TitleWrapper>\n        <InputWrapper>\n          <InputHeader>標題：</InputHeader>\n          <TitleInput\n            value={title}\n            onChange={controlInput(setTitle)}\n            onFocus={setError}\n          />\n        </InputWrapper>\n        <InputWrapper>\n          <InputHeader>內容：</InputHeader>\n          <BodyInput\n            value={body}\n            col=\"20\"\n            onChange={controlInput(setBody)}\n            onFocus={setError}\n          />\n        </InputWrapper>\n\n        <SubmitButton>送出文章</SubmitButton>\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      </Form>\n    </Root>\n  );\n}\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nimport Post from '../../components/Post';\nimport Loading from '../../components/Loading';\nimport styled from 'styled-components';\nimport { getPost, selectIsLoading, selectPost } from '../../redux/postsSlice';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  min-height: calc(100vh - 123px);\n`;\n\nexport default function PostPage() {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectIsLoading);\n  const post = useSelector(selectPost);\n  useEffect(() => dispatch(getPost(id)), [dispatch, id]);\n\n  return <Root>{!isLoading && post ? <Post post={post} /> : <Loading />}</Root>;\n}\n","import styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport { getLimitedPosts } from '../../redux/postsSlice';\nimport PropTypes from 'prop-types';\n\nconst PaginationContainer = styled.div`\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Pages = styled.div`\n  display: flex;\n`;\n\nconst Page = styled.a`\n  margin: 0 15px;\n`;\n\nconst PaginationDescription = styled.div`\n  margin-bottom: 10px;\n`;\n\nexport default function Pagination({\n  pagination,\n  limit,\n  totalPostsNumber,\n  currentPage,\n  setCurrentPage,\n}) {\n  const dispatch = useDispatch();\n  const handleClickPage = (page) => () => {\n    dispatch(getLimitedPosts(page, limit));\n    setCurrentPage(page);\n  };\n\n  return (\n    <PaginationContainer>\n      <PaginationDescription>\n        {`共有 ${totalPostsNumber} 篇文章，目前在第 ${currentPage} 頁`}\n      </PaginationDescription>\n      <Pages>\n        {pagination.map((page) => (\n          <Page key={page} onClick={handleClickPage(page)} children={page} />\n        ))}\n      </Pages>\n    </PaginationContainer>\n  );\n}\n\nPagination.propTypes = {\n  pagination: PropTypes.array.isRequired,\n  limit: PropTypes.number.isRequired,\n  getData: PropTypes.func.isRequired,\n  setValue: PropTypes.func.isRequired,\n  totalPostsNumber: PropTypes.number,\n  currentPage: PropTypes.number,\n  setCurrentPage: PropTypes.func,\n};\n","import { useEffect, useState, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport PropTypes from 'prop-types';\r\nimport Pagination from '../../components/Pagination';\r\nimport Loading from '../../components/Loading';\r\nimport {\r\n  getLimitedPosts,\r\n  selectTotalPostsNumber,\r\n  selectIsLoading,\r\n  selectPosts,\r\n  setPosts,\r\n} from '../../redux/postsSlice';\r\n\r\nconst Root = styled.div`\r\n  margin: 0 10vw;\r\n  height: calc(100vh - 123px);\r\n`;\r\n\r\nconst PostsContainer = styled.div`\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n  padding: 20px;\r\n  display: flex;\r\n  algin-items: flex-end;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst PostTitle = styled(Link)`\r\n  font-size: 20px;\r\n`;\r\n\r\nconst PostDate = styled.div`\r\n  color: #707070;\r\n`;\r\n\r\nfunction PostItem({ post }) {\r\n  return (\r\n    <PostsContainer>\r\n      <PostTitle\r\n        to={`/react-blog/post/${post.id}`}\r\n      >{`[${post.user.nickname}的文章]  ${post.title}`}</PostTitle>\r\n      <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\r\n    </PostsContainer>\r\n  );\r\n}\r\n\r\nexport default function PostsPage() {\r\n  const [pagination, setPagination] = useState([]);\r\n  const pages = useRef();\r\n  const dispatch = useDispatch();\r\n  const isLoading = useSelector(selectIsLoading);\r\n  const posts = useSelector(selectPosts);\r\n  const totalPostsNumber = useSelector(selectTotalPostsNumber);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    dispatch(getLimitedPosts(1, 5));\r\n    pages.current = Math.ceil(totalPostsNumber / 5);\r\n    setPagination(Array.from({ length: pages.current }).map((_, i) => i + 1));\r\n  }, [dispatch, totalPostsNumber]);\r\n\r\n  return (\r\n    <Root>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          {posts[0] &&\r\n            posts.map((post) => {\r\n              return <PostItem key={post.id} post={post} />;\r\n            })}\r\n\r\n          <Pagination\r\n            totalPostsNumber={totalPostsNumber}\r\n            pagination={pagination}\r\n            limit={5}\r\n            getData={getLimitedPosts}\r\n            setValue={setPosts}\r\n            currentPage={currentPage}\r\n            setCurrentPage={setCurrentPage}\r\n          />\r\n        </>\r\n      )}\r\n    </Root>\r\n  );\r\n}\r\n\r\nPostItem.propTypes = {\r\n  post: PropTypes.object.isRequired,\r\n};\r\n","import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport NormalButton from '../../components/NormalButton';\nimport {\n  setUserErrorMessage,\n  selectIsUserLoading,\n  selectUserErrorMessage,\n  register,\n} from '../../redux/userSlice';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n`;\n\nconst Title = styled.h1`\n  font-size: 24px;\n`;\n\nconst RegisterWrapper = styled.form`\n  width: 360px;\n  height: 360px;\n  margin: 20px auto 0;\n  padding: 20px;\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n`;\n\nconst InputWrapper = styled.div`\n  margin: 20px 0;\n`;\n\nconst Input = styled.input`\n  border: none;\n  outline: none;\n  padding: 5px 10px;\n  border-bottom: 1px solid #909090;\n  background: transparent;\n  letter-spacing: 5px;\n  color: #808080;\n  font-size: 16px;\n`;\n\nconst ShowPasswordRadio = styled.div`\n  margin-top: 10px;\n`;\n\nconst Loading = styled.div`\n  margin: 20px 0 10px 0;\n  color: #909090;\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  margin: 10px 0;\n`;\n\nconst SubmitButton = styled(NormalButton)`\n  margin: 10px auto;\n`;\n\nexport default function RegisterPage() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [nickname, setNickname] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const userErrorMessage = useSelector(selectUserErrorMessage);\n  const isUserLoading = useSelector(selectIsUserLoading);\n  const setError = () => dispatch(setUserErrorMessage(null));\n  const setValue = (setState) => (e) => setState(e.target.value);\n  const togglePassword = () => setShowPassword(showPassword ? false : true);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(\n      register({\n        nickname,\n        username,\n        password,\n      })\n    ).then((userId) => {\n      if (userId) navigate('/react-blog');\n    });\n  };\n\n  useEffect(() => () => dispatch(setUserErrorMessage(null)), [dispatch]);\n\n  return (\n    <Root>\n      <RegisterWrapper onSubmit={handleSubmit}>\n        <Title>註冊新帳號</Title>\n        <InputWrapper>\n          暱稱：\n          <Input\n            value={nickname}\n            onChange={setValue(setNickname)}\n            onFocus={setError}\n          />\n        </InputWrapper>\n        <InputWrapper>\n          帳號：\n          <Input\n            value={username}\n            onChange={setValue(setUsername)}\n            onFocus={setError}\n          />\n        </InputWrapper>\n        <InputWrapper>\n          密碼：\n          <Input\n            type={showPassword ? 'text' : 'password'}\n            value={password}\n            onChange={setValue(setPassword)}\n            onFocus={setError}\n          />\n          <ShowPasswordRadio>\n            <input type=\"checkbox\" onClick={togglePassword} id=\"password\" />\n            <label htmlFor=\"password\">顯示密碼 </label>\n          </ShowPasswordRadio>\n        </InputWrapper>\n        {isUserLoading ? (\n          <Loading>Loading...</Loading>\n        ) : (\n          <>\n            <SubmitButton>註冊</SubmitButton>\n            {userErrorMessage && (\n              <ErrorMessage>{userErrorMessage}</ErrorMessage>\n            )}\n          </>\n        )}\n      </RegisterWrapper>\n    </Root>\n  );\n}\n","import { useEffect } from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Navbar from '../Navbar';\nimport { useDispatch } from 'react-redux';\nimport { getMe } from '../../redux/userSlice';\nimport {\n  AboutMePage,\n  LoginPage,\n  HomePage,\n  NewPostPage,\n  PostPage,\n  PostsPage,\n  EditPostPage,\n  RegisterPage,\n} from '../../pages/';\n\nconst Root = styled.div`\n  padding-top: 84px;\n`;\n\nconst Footer = styled.div`\n  background: rgb(49 49 49);\n  padding: 6px 0;\n  bottom: 0;\n  width: 100%;\n  color: whitesmoke;\n  text-align: center;\n`;\n\nfunction App() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getMe())\n  }, [dispatch]);\n\n  return (\n    <Root>\n      <BrowserRouter>\n        <Navbar />\n        <Routes basename=\"/react-blog\">\n          <Route path={'/'} element={<HomePage />} />\n          <Route path={'/register'} element={<RegisterPage />} />\n          <Route path={'/login'} element={<LoginPage />} />\n          <Route path={'/posts'} element={<PostsPage />} />\n          <Route path={'/post/:id'} element={<PostPage />} />\n          <Route path={'/post/edit/:id'} element={<EditPostPage />} />\n          <Route path={'/new-post'} element={<NewPostPage />} />\n          <Route path={'/about-me'} element={<AboutMePage />} />\n        </Routes>\n        <Footer>Made with ❤️ by Nicolas</Footer>\n      </BrowserRouter>\n    </Root>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport postReducer from './postsSlice';\nimport userReducer from './userSlice';\n\nconst store = configureStore({\n  reducer: {\n    posts: postReducer,\n    user: userReducer,\n  },\n});\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport './index.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}