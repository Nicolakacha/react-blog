(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{26:function(n,t,e){},27:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(0),a=e(13),i=e.n(a),o=e(5),u=e(2),s=e(6),l=e(4),j=Object(c.createContext)(null),b=Object(c.createContext)(null),d=e(3),f="token",x=function(n){return localStorage.setItem(f,n)},p=function(){return localStorage.getItem(f)},O="https://student-json-api.lidemy.me",h=function(){return fetch("".concat(O,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()}))},g=function(n,t){return fetch("".concat(O,"/posts?_page=").concat(n,"&_limit=").concat(t,"&_sort=createdAt&_order=desc")).then((function(n){return n.json()}))},v=function(){var n=p();return fetch("".concat(O,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))};function m(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 30px;\n  height: 64px;\n"]);return m=function(){return n},n}function y(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 30px;\n  height: 64px;\n"]);return y=function(){return n},n}function w(){var n=Object(u.a)(["\n  font-size: 32px;\n  color: #017a75;\n"]);return w=function(){return n},n}function k(){var n=Object(u.a)(["\n  display: flex;\n"]);return k=function(){return n},n}function S(){var n=Object(u.a)(["\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  box-shadow: 0px 1px 10px rgba(0, 0, 0, 0.5);\n  padding: 0px 5vw;\n  background: white;\n"]);return S=function(){return n},n}var C=d.a.div(S()),E=d.a.div(k()),L=Object(d.a)(s.b)(w()),z=Object(d.a)(s.c)(y()),N=d.a.a(m());function F(){var n=Object(c.useContext)(j),t=n.user,e=n.setUser,a=Object(l.g)();return Object(r.jsxs)(C,{children:[Object(r.jsx)(L,{to:"/react-blog",children:"React Blog"}),Object(r.jsxs)(E,{children:[Object(r.jsx)(z,{to:"/react-blog/about-me",children:"\u95dc\u65bc\u6211"}),Object(r.jsx)(z,{to:"/react-blog/posts",children:"\u6587\u7ae0\u5217\u8868"}),localStorage.token?Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)(z,{to:"/react-blog/new-post",children:"\u767c\u4f48\u6587\u7ae0"}),t&&Object(r.jsx)(N,{onClick:function(){x(""),e(null),alert("\u767b\u51fa\u6210\u529f"),a("/react-blog")},children:"\u767b\u51fa"})]}):Object(r.jsxs)(r.Fragment,{children:[!t&&Object(r.jsx)(z,{to:"/react-blog/login",children:"\u767b\u5165"}),!t&&Object(r.jsx)(z,{to:"/react-blog/register",children:"\u8a3b\u518a"})]})]})]})}function T(){return(T=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function I(n,t){if(null==n)return{};var e,r,c=function(n,t){if(null==n)return{};var e,r,c={},a=Object.keys(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)>=0||(c[e]=n[e]);return c}(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(c[e]=n[e])}return c}var A=c.createElement("g",null,c.createElement("circle",{cx:60,cy:50,r:4,fill:"#d7adb0"},c.createElement("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",values:"95;35",keyTimes:"0;1",begin:"-0.67s"}),c.createElement("animate",{attributeName:"fill-opacity",repeatCount:"indefinite",dur:"1s",values:"0;1;1",keyTimes:"0;0.2;1",begin:"-0.67s"})),c.createElement("circle",{cx:60,cy:50,r:4,fill:"#d7adb0"},c.createElement("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",values:"95;35",keyTimes:"0;1",begin:"-0.33s"}),c.createElement("animate",{attributeName:"fill-opacity",repeatCount:"indefinite",dur:"1s",values:"0;1;1",keyTimes:"0;0.2;1",begin:"-0.33s"})),c.createElement("circle",{cx:60,cy:50,r:4,fill:"#d7adb0"},c.createElement("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",values:"95;35",keyTimes:"0;1",begin:"0s"}),c.createElement("animate",{attributeName:"fill-opacity",repeatCount:"indefinite",dur:"1s",values:"0;1;1",keyTimes:"0;0.2;1",begin:"0s"}))),P=c.createElement("g",{transform:"translate(-15 0)"},c.createElement("path",{d:"M50 50L20 50A30 30 0 0 0 80 50Z",fill:"#d7d3d0",transform:"rotate(90 50 50)"}),c.createElement("path",{d:"M50 50L20 50A30 30 0 0 0 80 50Z",fill:"#d7d3d0"},c.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;45 50 50;0 50 50",keyTimes:"0;0.5;1"})),c.createElement("path",{d:"M50 50L20 50A30 30 0 0 1 80 50Z",fill:"#d7d3d0"},c.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;-45 50 50;0 50 50",keyTimes:"0;0.5;1"})));function R(n,t){var e=n.title,r=n.titleId,a=I(n,["title","titleId"]);return c.createElement("svg",T({style:{margin:"auto",background:"none",display:"block",shapeRendering:"auto"},width:"136px",height:"136px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":r},a),e?c.createElement("title",{id:r},e):null,A,P)}var D=c.forwardRef(R);e.p;function M(){var n=Object(u.a)(["\n  display: flex\n  justify-content: center;\n"]);return M=function(){return n},n}function B(){var n=Object(u.a)(["\n  font-size: 36px;\n"]);return B=function(){return n},n}function _(){var n=Object(u.a)(["\n  width: 600px;\n  height: 400px;\n  margin: 20px auto 0;\n  padding: 20px;\n  background: rgba(210, 210, 210, 0.4);\n  text-align: center;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n"]);return _=function(){return n},n}function J(){var n=Object(u.a)(["\n  margin: 0 10vw;\n  height: calc(100vh - 143px);\n"]);return J=function(){return n},n}var U=d.a.div(J()),Z=d.a.div(_()),V=d.a.h1(B()),Y=d.a.div(M());function H(){return Object(r.jsx)(U,{children:Object(r.jsxs)(Z,{children:[Object(r.jsx)(V,{children:"A Simple Blog"}),Object(r.jsxs)(Y,{children:["\u9019\u662f React SPA \u90e8\u843d\u683c\u7df4\u7fd2\uff5e",Object(r.jsx)("br",{}),"\u4f7f\u7528 React Hooks, Styled Components, React Router 6",Object(r.jsx)(D,{})]})]})})}function q(){var n=Object(u.a)(["\n  padding-top: 150px;\n  margin: 0 auto;\n  text-align: center;\n"]);return q=function(){return n},n}var G=d.a.div(q());function K(){return Object(r.jsx)(G,{children:Object(r.jsx)(D,{})})}function Q(){var n=Object(u.a)(["\n  margin-top: 20px;\n"]);return Q=function(){return n},n}function W(){var n=Object(u.a)(["\n  padding-bottom: 20px;\n  color: #707070;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n"]);return W=function(){return n},n}function X(){var n=Object(u.a)(["\n  font-size: 24px;\n"]);return X=function(){return n},n}function $(){var n=Object(u.a)(["\n  padding: 20px;\n  margin: 10px 0;\n  justify-content: space-between;\n"]);return $=function(){return n},n}var nn=d.a.div($()),tn=d.a.h2(X()),en=d.a.div(W()),rn=d.a.div(Q());function cn(n){var t=n.post;return Object(r.jsxs)(nn,{children:[Object(r.jsx)(tn,{children:t.title}),Object(r.jsx)(en,{children:new Date(t.createdAt).toLocaleString()}),Object(r.jsx)(rn,{children:t.body})]})}function an(){var n=Object(u.a)(["\n  margin-bottom: 0;\n"]);return an=function(){return n},n}function on(){var n=Object(u.a)(["\n  margin: 0 10vw;\n  min-height: calc(100vh - 123px);\n"]);return on=function(){return n},n}var un=d.a.div(on()),sn=d.a.h1(an());function ln(n){return n.posts.slice(0,5).map((function(n){return Object(r.jsx)(cn,{post:n},n.id)}))}function jn(){var n=Object(c.useContext)(b),t=n.isLoading,e=n.setIsLoading,a=Object(c.useState)([]),i=Object(o.a)(a,2),u=i[0],s=i[1];return Object(c.useEffect)((function(){e(!0),h().then((function(n){return s(n)})).then((function(){e(!1)}))}),[e]),Object(r.jsx)(un,{children:t?Object(r.jsx)(K,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(sn,{children:"\u6700\u65b0\u6587\u7ae0"}),Object(r.jsx)(ln,{posts:u})]})})}function bn(){var n=Object(u.a)(["\n  padding: 5px 10px;\n  margin: 10px auto;\n  border-radius: 10px;\n  border: transparent;\n  background: #909090;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  font-size: 16px;\n  box-shadow: 0px 5px 2px #707070;\n  &:active {\n    transform: translateY(2px);\n    box-shadow: 0px 3px 2px #888888;\n  }\n"]);return bn=function(){return n},n}var dn=d.a.button(bn());function fn(){var n=Object(u.a)(["\n  margin-top: 10px;\n"]);return fn=function(){return n},n}function xn(){var n=Object(u.a)(["\n  border: none;\n  outline: none;\n  padding: 5px 10px;\n  border-bottom: 1px solid #909090;\n  background: transparent;\n  letter-spacing: 5px;\n  color: #808080;\n  font-size: 16px;\n"]);return xn=function(){return n},n}function pn(){var n=Object(u.a)(["\n  margin: 20px 0;\n"]);return pn=function(){return n},n}function On(){var n=Object(u.a)(["\n  width: 360px;\n  height: 290px;\n  margin: 20px auto 0;\n  padding: 20px;\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n"]);return On=function(){return n},n}function hn(){var n=Object(u.a)(["\n  color: red;\n  margin: 10px 0;\n"]);return hn=function(){return n},n}function gn(){var n=Object(u.a)(["\n  font-size: 24px;\n"]);return gn=function(){return n},n}function vn(){var n=Object(u.a)(["\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n"]);return vn=function(){return n},n}var mn=d.a.div(vn()),yn=d.a.h1(gn()),wn=d.a.div(hn()),kn=d.a.form(On()),Sn=d.a.div(pn()),Cn=d.a.input(xn()),En=d.a.div(fn());function Ln(){var n=Object(c.useContext)(j).setUser,t=Object(c.useState)(""),e=Object(o.a)(t,2),a=e[0],i=e[1],u=Object(c.useState)(""),s=Object(o.a)(u,2),b=s[0],d=s[1],f=Object(c.useState)(!1),p=Object(o.a)(f,2),h=p[0],g=p[1],m=Object(c.useState)(null),y=Object(o.a)(m,2),w=y[0],k=y[1],S=Object(l.g)();return Object(r.jsx)(mn,{children:Object(r.jsxs)(kn,{onSubmit:function(t){t.preventDefault(),function(n){var t=n.username,e=n.password;return fetch("".concat(O,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:t,password:e})}).then((function(n){return n.json()}))}({username:a,password:b}).then((function(t){if(0===t.ok)return k(t.message);x(t.token),v().then((function(t){if(1!==t.ok)return x(null),k(t.toString());n(t.data),S("/")})).catch((function(n){alert(n),S("/")}))})).catch((function(n){return k(n)}))},children:[Object(r.jsx)(yn,{children:"\u8acb\u767b\u5165\u90e8\u843d\u683c"}),Object(r.jsxs)(Sn,{children:["\u5e33\u865f\uff1a"," ",Object(r.jsx)(Cn,{value:a,onChange:function(n){return i(n.target.value)},onFocus:function(){return k(null)}})]}),Object(r.jsxs)(Sn,{children:["\u5bc6\u78bc\uff1a"," ",Object(r.jsx)(Cn,{type:h?"text":"password",value:b,onChange:function(n){return d(n.target.value)},onFocus:function(){return k(null)}}),Object(r.jsxs)(En,{children:[Object(r.jsx)("input",{type:"checkbox",onClick:function(){return g(!h)},id:"password"}),Object(r.jsx)("label",{htmlFor:"password",children:"\u986f\u793a\u5bc6\u78bc "})]})]}),Object(r.jsx)(dn,{children:"\u767b\u5165"}),w&&Object(r.jsx)(wn,{children:w})]})})}function zn(){var n=Object(u.a)(["\n  margin: 20px 0 10px 0;\n  color: #909090;\n"]);return zn=function(){return n},n}function Nn(){var n=Object(u.a)(["\n  color: red;\n  font-size: 16px;\n"]);return Nn=function(){return n},n}function Fn(){var n=Object(u.a)(["\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  height: 150px;\n  font-size: 16px;\n"]);return Fn=function(){return n},n}function Tn(){var n=Object(u.a)(["\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  font-size: 16px;\n"]);return Tn=function(){return n},n}function In(){var n=Object(u.a)(["\n  margin-bottom: 10px;\n"]);return In=function(){return n},n}function An(){var n=Object(u.a)(["\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: column;\n"]);return An=function(){return n},n}function Pn(){var n=Object(u.a)(["\n  width: 460px;\n  height: 390px;\n  margin: 20px auto 0;\n  padding: 10px 30px 30px 30px;\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n"]);return Pn=function(){return n},n}function Rn(){var n=Object(u.a)(["\n  font-size: 28px;\n  margin: 0px;\n"]);return Rn=function(){return n},n}function Dn(){var n=Object(u.a)(["\n  margin-bottom: 10px;\n  text-align: center;\n"]);return Dn=function(){return n},n}function Mn(){var n=Object(u.a)(["\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n"]);return Mn=function(){return n},n}var Bn=d.a.div(Mn()),_n=d.a.div(Dn()),Jn=d.a.h1(Rn()),Un=d.a.form(Pn()),Zn=d.a.div(An()),Vn=d.a.div(In()),Yn=d.a.input(Tn()),Hn=d.a.textarea(Fn()),qn=d.a.div(Nn()),Gn=d.a.div(zn());function Kn(){var n=Object(c.useState)(""),t=Object(o.a)(n,2),e=t[0],a=t[1],i=Object(c.useState)(""),u=Object(o.a)(i,2),s=u[0],j=u[1],d=Object(c.useState)(""),f=Object(o.a)(d,2),x=f[0],h=f[1],g=Object(c.useContext)(b),v=g.isLoading,m=g.setIsLoading,y=Object(l.g)(),w=function(n){return function(t){n(t.target.value)}},k=function(){h(null)};return Object(r.jsx)(Bn,{children:Object(r.jsxs)(Un,{onSubmit:function(n){n.preventDefault(),m(!0),function(n,t){var e=p();return fetch("".concat(O,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(e),"content-type":"application/json"},body:JSON.stringify({title:n,body:t})}).then((function(n){return n.json()}))}(e,s).then((function(n){if(0===n.ok)return h(n.message),void m(!1);m(!1),y("/")}))},children:[Object(r.jsx)(_n,{children:Object(r.jsx)(Jn,{children:"\u65b0\u6587\u7ae0"})}),Object(r.jsxs)(Zn,{children:[Object(r.jsx)(Vn,{children:"\u6a19\u984c\uff1a"}),Object(r.jsx)(Yn,{value:e,onChange:w(a),onFocus:k})]}),Object(r.jsxs)(Zn,{children:[Object(r.jsx)(Vn,{children:"\u5167\u5bb9\uff1a"}),Object(r.jsx)(Hn,{value:s,col:"20",onChange:w(j),onFocus:k})]}),v?Object(r.jsx)(Gn,{children:"Loading..."}):Object(r.jsx)(dn,{children:"\u9001\u51fa\u6587\u7ae0"}),x&&Object(r.jsx)(qn,{children:x})]})})}function Qn(){var n=Object(u.a)(["\n  margin: 0 10vw;\n  min-height: calc(100vh - 123px);\n"]);return Qn=function(){return n},n}var Wn=d.a.div(Qn());function Xn(){var n=Object(c.useContext)(b),t=n.isLoading,e=n.setIsLoading,a=Object(c.useState)(null),i=Object(o.a)(a,2),u=i[0],s=i[1],j=Object(l.h)().id;return Object(c.useEffect)((function(){e(!0),function(n){return fetch("".concat(O,"/posts?id=").concat(n)).then((function(n){return n.json()}))}(j).then((function(n){return s(n[0])})),e(!1)}),[j,e]),Object(r.jsx)(Wn,{children:!t&&u?Object(r.jsx)(cn,{post:u}):Object(r.jsx)(K,{})})}function $n(){var n=Object(u.a)(["\n  margin-bottom: 10px;\n"]);return $n=function(){return n},n}function nt(){var n=Object(u.a)(["\n  margin: 0 15px;\n"]);return nt=function(){return n},n}function tt(){var n=Object(u.a)(["\n  display: flex;\n"]);return tt=function(){return n},n}function et(){var n=Object(u.a)(["\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return et=function(){return n},n}var rt=d.a.div(et()),ct=d.a.div(tt()),at=d.a.a(nt()),it=d.a.div($n());function ot(n){var t=n.pagination,e=n.limit,a=n.getData,i=n.setValue,u=n.totalPostsNumber,s=Object(c.useState)(1),l=Object(o.a)(s,2),j=l[0],b=l[1],d=function(n){return function(){a(n,e).then((function(n){return i(n)})),b(n)}};return Object(r.jsxs)(rt,{children:[Object(r.jsx)(it,{children:"\u5171\u6709 ".concat(u," \u7bc7\u6587\u7ae0\uff0c\u76ee\u524d\u5728\u7b2c ").concat(j," \u9801")}),Object(r.jsx)(ct,{children:t.map((function(n){return Object(r.jsx)(at,{onClick:d(n),children:n},n)}))})]})}function ut(){var n=Object(u.a)(["\n  color: #707070;\n"]);return ut=function(){return n},n}function st(){var n=Object(u.a)(["\n  font-size: 20px;\n"]);return st=function(){return n},n}function lt(){var n=Object(u.a)(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 20px;\n  display: flex;\n  algin-items: flex-end;\n  justify-content: space-between;\n"]);return lt=function(){return n},n}function jt(){var n=Object(u.a)(["\n  margin: 0 10vw;\n  height: calc(100vh - 123px);\n"]);return jt=function(){return n},n}var bt=d.a.div(jt()),dt=d.a.div(lt()),ft=Object(d.a)(s.b)(st()),xt=d.a.div(ut());function pt(n){var t=n.post;return Object(r.jsxs)(dt,{children:[Object(r.jsx)(ft,{to:"/post/".concat(t.id),children:t.title}),Object(r.jsx)(xt,{children:new Date(t.createdAt).toLocaleString()})]})}function Ot(){var n=Object(c.useState)([]),t=Object(o.a)(n,2),e=t[0],a=t[1],i=Object(c.useState)([]),u=Object(o.a)(i,2),s=u[0],l=u[1],j=Object(c.useContext)(b),d=j.isLoading,f=j.setIsLoading,x=Object(c.useRef)();return Object(c.useEffect)((function(){f((function(){return!0})),h().then((function(n){var t=Math.ceil(n.length/5);x.current=n.length,l(Array.from({length:t}).map((function(n,t){return t+1}))),g(1,5).then((function(n){return a(n)})).then((function(){return f((function(){return!1}))}))}))}),[f]),Object(r.jsx)(bt,{children:d?Object(r.jsx)(K,{}):Object(r.jsxs)(r.Fragment,{children:[" ",e[0]&&e.map((function(n){return Object(r.jsx)(pt,{post:n},n.id)})),Object(r.jsx)(ot,{totalPostsNumber:x.current,pagination:s,limit:5,getData:g,setValue:a})]})})}function ht(){var n=Object(u.a)(["\n  margin: 20px 0 10px 0;\n  color: #909090;\n"]);return ht=function(){return n},n}function gt(){var n=Object(u.a)(["\n  margin-top: 10px;\n"]);return gt=function(){return n},n}function vt(){var n=Object(u.a)(["\n  border: none;\n  outline: none;\n  padding: 5px 10px;\n  border-bottom: 1px solid #909090;\n  background: transparent;\n  letter-spacing: 5px;\n  color: #808080;\n  font-size: 16px;\n"]);return vt=function(){return n},n}function mt(){var n=Object(u.a)(["\n  margin: 20px 0;\n"]);return mt=function(){return n},n}function yt(){var n=Object(u.a)(["\n  width: 360px;\n  height: 360px;\n  margin: 20px auto 0;\n  padding: 20px;\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n"]);return yt=function(){return n},n}function wt(){var n=Object(u.a)(["\n  color: red;\n  margin: 10px 0;\n"]);return wt=function(){return n},n}function kt(){var n=Object(u.a)(["\n  font-size: 24px;\n"]);return kt=function(){return n},n}function St(){var n=Object(u.a)(["\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n"]);return St=function(){return n},n}var Ct=d.a.div(St()),Et=d.a.h1(kt()),Lt=d.a.div(wt()),zt=d.a.form(yt()),Nt=d.a.div(mt()),Ft=d.a.input(vt()),Tt=d.a.div(gt()),It=d.a.div(ht());function At(){var n=Object(c.useContext)(j).setUser,t=Object(c.useState)(""),e=Object(o.a)(t,2),a=e[0],i=e[1],u=Object(c.useState)(""),s=Object(o.a)(u,2),d=s[0],f=s[1],p=Object(c.useState)(""),h=Object(o.a)(p,2),g=h[0],m=h[1],y=Object(c.useState)(!1),w=Object(o.a)(y,2),k=w[0],S=w[1],C=Object(c.useState)(null),E=Object(o.a)(C,2),L=E[0],z=E[1],N=Object(c.useContext)(b),F=N.isLoading,T=N.setIsLoading,I=Object(l.g)();return Object(r.jsx)(Ct,{children:Object(r.jsxs)(zt,{onSubmit:function(t){T(!0),t.preventDefault(),function(n){var t=n.nickname,e=n.username,r=n.password;return fetch("".concat(O,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:t,username:e,password:r})}).then((function(n){return n.json()}))}({nickname:a,username:d,password:g}).then((function(t){if(0===t.ok)return T(!1),z(t.message);x(t.token),v().then((function(t){if(1!==t.ok)return x(null),z(t.toString());n(t.data),I("/"),T(!1)})).catch((function(n){return I("/"),T(!1),z(n)}))})).catch((function(n){T(!1),z(n)}))},children:[Object(r.jsx)(Et,{children:"\u8a3b\u518a\u65b0\u5e33\u865f"}),Object(r.jsxs)(Nt,{children:["\u66b1\u7a31\uff1a"," ",Object(r.jsx)(Ft,{value:a,onChange:function(n){return i(n.target.value)},onFocus:function(){return z(null)}})]}),Object(r.jsxs)(Nt,{children:["\u5e33\u865f\uff1a"," ",Object(r.jsx)(Ft,{value:d,onChange:function(n){return f(n.target.value)},onFocus:function(){return z(null)}})]}),Object(r.jsxs)(Nt,{children:["\u5bc6\u78bc\uff1a"," ",Object(r.jsx)(Ft,{type:k?"text":"password",value:g,onChange:function(n){return m(n.target.value)},onFocus:function(){return z(null)}}),Object(r.jsxs)(Tt,{children:[Object(r.jsx)("input",{type:"checkbox",onClick:function(){return S(!k)},id:"password"}),Object(r.jsx)("label",{htmlFor:"password",children:"\u986f\u793a\u5bc6\u78bc "})]})]}),F?Object(r.jsx)(It,{children:"Loading..."}):Object(r.jsx)(dn,{children:"\u8a3b\u518a"}),L&&Object(r.jsx)(Lt,{children:L})]})})}function Pt(){var n=Object(u.a)(["\n  background: rgb(49 49 49);\n  padding: 6px 0;\n  bottom: 0;\n  width: 100%;\n  color: whitesmoke;\n  text-align: center;\n"]);return Pt=function(){return n},n}function Rt(){var n=Object(u.a)(["\n  padding-top: 84px;\n"]);return Rt=function(){return n},n}var Dt=d.a.div(Rt()),Mt=d.a.div(Pt());var Bt=function(){var n=Object(c.useState)(null),t=Object(o.a)(n,2),e=t[0],a=t[1],i=Object(c.useState)(!1),u=Object(o.a)(i,2),d=u[0],f=u[1];return Object(c.useEffect)((function(){p()&&v().then((function(n){n.ok&&a(n.data)}))}),[]),Object(r.jsx)(j.Provider,{value:{user:e,setUser:a},children:Object(r.jsx)(Dt,{children:Object(r.jsxs)(s.a,{children:[Object(r.jsxs)(b.Provider,{value:{isLoading:d,setIsLoading:f},children:[Object(r.jsx)(F,{}),Object(r.jsxs)(l.c,{basename:"/react-blog",children:[Object(r.jsx)(l.a,{path:"/",element:Object(r.jsx)(jn,{})}),Object(r.jsx)(l.a,{path:"/register",element:Object(r.jsx)(At,{})}),Object(r.jsx)(l.a,{path:"/login",element:Object(r.jsx)(Ln,{})}),Object(r.jsx)(l.a,{path:"/posts",element:Object(r.jsx)(Ot,{})}),Object(r.jsx)(l.a,{path:"/post/:id",element:Object(r.jsx)(Xn,{})}),Object(r.jsx)(l.a,{path:"/new-post",element:Object(r.jsx)(Kn,{})}),Object(r.jsx)(l.a,{path:"/about-me",element:Object(r.jsx)(H,{})})]})]}),Object(r.jsx)(Mt,{children:"Made with \u2764\ufe0f by Nicolas"})]})})})};e(26);i.a.render(Object(r.jsx)(Bt,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.890a6731.chunk.js.map