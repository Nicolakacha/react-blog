(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{37:function(n,t,e){},38:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(0),a=e(16),i=e.n(a),o=e(2),u=e(8),s=e(5),l=e(3),b=e(4),j="@media screen and (min-width: 768px)",d=e(11),f=e.n(d),p=e(15),x=e(13),O="token",h=function(n){return localStorage.setItem(O,n)},g=function(){return localStorage.getItem(O)},m="https://student-json-api.lidemy.me",v=function(){return fetch("".concat(m,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()}))},y=function(n,t){return fetch("".concat(m,"/posts?_page=").concat(n,"&_limit=").concat(t,"&_sort=createdAt&_order=desc&_expand=user")).then((function(n){return n.json()}))},w=function(n){var t=n.username,e=n.password;return fetch("".concat(m,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:t,password:e})}).then((function(n){return n.json()}))},k=function(n){var t=n.nickname,e=n.username,r=n.password;return fetch("".concat(m,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:t,username:e,password:r})}).then((function(n){return n.json()}))},E=Object(x.b)({name:"user",initialState:{userId:null,userErrorMessage:null,isUserLoading:!1},reducers:{setIsUserLoading:function(n,t){n.isUserLoading=t.payload},setUserId:function(n,t){n.userId=t.payload},setUserErrorMessage:function(n,t){n.userErrorMessage=t.payload}}}),S=function(n){return n.user.userId},I=function(n){return n.user.isUserLoading},P=function(n){return n.user.userErrorMessage},C=E.actions,N=C.setIsUserLoading,z=C.setUserId,L=C.setUserErrorMessage,M=function(n,t){if(1===n.ok)return h(n.token);console.log(n),t(L(n.message))},T=function(){return function(n){if(n(N(!0)),g())return function(){var n=g();return fetch("".concat(m,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))}().then((function(t){if(n(N(!1)),1===t.ok)return n(z(t.data.id)),t.data.id;h(null)}));n(N(!1))}},F=E.reducer;function A(){var n=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 6px;\n  height: 64px;\n  "," {\n    margin: 0 30px;\n  }\n"]);return A=function(){return n},n}function $(){var n=Object(o.a)(["\n  display: flex;\n  margin: 0 6px;\n  align-items: center;\n  height: 64px;\n  -webkit-tap-highlight-color: transparent;\n  "," {\n    margin: 0 30px;\n  }\n"]);return $=function(){return n},n}function R(){var n=Object(o.a)(["\n  font-size: 32px;\n  color: #017a75;\n  margin-top: 10px;\n  -webkit-tap-highlight-color: transparent;\n  "," {\n    margin-top: 0px;\n  }\n"]);return R=function(){return n},n}function U(){var n=Object(o.a)(["\n  display: flex;\n"]);return U=function(){return n},n}function B(){var n=Object(o.a)(["\n  height: 100px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  box-shadow: 0px 1px 10px rgba(0, 0, 0, 0.5);\n  padding: 0px 5vw;\n  background: white;\n  flex-direction: column;\n  "," {\n    height: 64px;\n    flex-direction: row;\n  }\n"]);return B=function(){return n},n}var D=l.a.div(B(),j),_=l.a.div(U()),J=Object(l.a)(u.b)(R(),j),Z=Object(l.a)(u.c)($(),j),Y=l.a.a(A(),j);function H(){var n=Object(b.b)(),t=Object(s.g)(),e=Object(b.c)(S),c=Object(b.c)(I);return Object(r.jsxs)(D,{children:[Object(r.jsx)(J,{to:"/react-blog",children:"React Blog"}),Object(r.jsxs)(_,{children:[Object(r.jsx)(Z,{to:"/react-blog/about-me",children:"\u95dc\u65bc\u6211"}),Object(r.jsx)(Z,{to:"/react-blog/posts",children:"\u6587\u7ae0\u5217\u8868"}),c?Object(r.jsx)(Z,{to:"/",children:"\u6aa2\u67e5\u767b\u5165\u8cc7\u8a0a\u4e2d"}):Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)(Z,{to:"/react-blog/new-post",children:"\u767c\u8868\u6587\u7ae0"}),e&&Object(r.jsx)(Y,{onClick:function(){n((function(n){h(""),n(z(null)),alert("\u767b\u51fa\u6210\u529f")})),t("/react-blog")},children:"\u767b\u51fa"}),!e&&Object(r.jsx)(Z,{to:"/react-blog/login",children:"\u767b\u5165"}),!e&&Object(r.jsx)(Z,{to:"/react-blog/register",children:"\u8a3b\u518a"})]})]})]})}function V(){var n=Object(o.a)(["\n  text-align: left;\n"]);return V=function(){return n},n}function X(){var n=Object(o.a)(["\n  font-size: 36px;\n"]);return X=function(){return n},n}function q(){var n=Object(o.a)(["\n  max-width: 600px;\n  height: 400px;\n  margin: 50px auto 0;\n  padding: 20px;\n  background: rgba(210, 210, 210, 0.4);\n  text-align: center;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n"]);return q=function(){return n},n}function G(){var n=Object(o.a)(["\n  margin: 0 10vw;\n  height: calc(100vh - 133px);\n"]);return G=function(){return n},n}var K=l.a.div(G()),Q=l.a.div(q()),W=l.a.h1(X()),nn=l.a.div(V());function tn(){return Object(r.jsx)(K,{children:Object(r.jsxs)(Q,{children:[Object(r.jsx)(W,{children:"A Simple Blog"}),Object(r.jsxs)(nn,{children:["\u5229\u7528 React \u5be6\u4f5c SPA \u90e8\u843d\u683c\uff5e",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"\u5f9e\u6587\u5b78\u5230\u7a0b\u5f0f\uff0c\u5c0d\u5404\u7a2e\u9818\u57df\u5145\u6eff\u597d\u5947\uff0c\u53c3\u8207 Lidemy \u7a0b\u5f0f\u5c0e\u5e2b\u8a08\u756b\u81ea\u6b64\u6253\u958b\u7a0b\u5f0f\u958b\u767c\u7684\u5927\u9580\uff0c\u8a8d\u70ba\u7db2\u8def\u662f\u8d85\u68d2\u7684\u77e5\u8b58\u8f09\u9ad4\uff0c\u4ee5\u4e0d\u65b7\u6210\u9577\u7684\u524d\u7aef\u5de5\u7a0b\u5e2b\u70ba\u76ee\u6a19\uff0c\u4e26\u671f\u8a31\u81ea\u5df1\u5728\u6e34\u671b\u65b0\u4e8b\u7269\u7684\u540c\u6642\uff0c\u4e5f\u80fd\u6210\u70ba\u5e36\u4f86\u65b0\u4e8b\u7269\u7684\u4eba\u3002"]})]})})}function en(){var n=Object(o.a)(["\n  padding: 5px 10px;\n  border-radius: 10px;\n  border: transparent;\n  background: #909090;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  font-size: 16px;\n  box-shadow: 0px 5px 2px #707070;\n  &:active {\n    transform: translateY(2px);\n    box-shadow: 0px 3px 2px #888888;\n  }\n"]);return en=function(){return n},n}var rn=l.a.button(en()),cn=Object(x.b)({name:"posts",initialState:{isLoading:!1,totalPostNumber:null,posts:[],post:null,newPostResponse:null,errorMessage:null},reducers:{setIsLoading:function(n,t){n.isLoading=t.payload},setPost:function(n,t){n.post=t.payload},setTotalPostsNumber:function(n,t){n.totalPostNumber=t.payload.length},setPosts:function(n,t){n.posts=t.payload},setNewPostResponse:function(n,t){n.newPostResponse=t.payload},setErrorMessage:function(n,t){n.errorMessage=t.payload}}}),an=function(n){return n.posts.post},on=function(n){return n.posts.posts},un=function(n){return n.posts.isLoading},sn=function(n){return n.posts.errorMessage},ln=function(n){return n.posts.totalPostNumber},bn=cn.actions,jn=bn.setPost,dn=bn.setPosts,fn=bn.setIsLoading,pn=bn.setErrorMessage,xn=bn.setTotalPostsNumber,On=bn.setNewPostResponse,hn=function(n,t){return function(){var e=Object(p.a)(f.a.mark((function e(r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(fn(!0)),e.next=3,v().then((function(n){return r(xn(n))}));case 3:y(n,t).then((function(n){r(dn(n)),r(fn(!1))}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},gn=function(n){return function(t){return t(fn(!0)),function(n){return fetch("".concat(m,"/posts?id=").concat(n,"&_expand=user")).then((function(n){return n.json()}))}(n).then((function(n){return t(jn(n[0])),t(fn(!1)),n[0]}))}},mn=function(n){return function(t){return t(fn(!0)),function(n){var t=n.title,e=n.body,r=g();return fetch("".concat(m,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(r),"content-type":"application/json"},body:JSON.stringify({title:t,body:e})}).then((function(n){return n.json()}))}(n).then((function(n){return t(On(n)),t(fn(!1)),n}))}},vn=function(n){return function(t){return t(fn(!0)),function(n){var t=n.title,e=n.body,r=n.id,c=g();return fetch("".concat(m,"/posts/").concat(r),{method:"PATCH",headers:{authorization:"Bearer ".concat(c),"content-type":"application/json"},body:JSON.stringify({title:t,body:e})}).then((function(n){return n.json()}))}(n).then((function(n){t(jn(n))}))}},yn=function(n){return function(){return function(n){var t=g();return fetch("".concat(m,"/posts/").concat(n),{method:"DELETE",headers:{authorization:"Bearer ".concat(t)}}).then((function(n){return n.json()}))}(n).then((function(n){return n}))}},wn=cn.reducer;function kn(){var n=Object(o.a)(["\n  margin: 10px 20px 10px 0px;\n"]);return kn=function(){return n},n}function En(){var n=Object(o.a)(["\n  padding-bottom: 10px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n"]);return En=function(){return n},n}function Sn(){var n=Object(o.a)(["\n  margin-top: 20px;\n  word-break: break-all;\n"]);return Sn=function(){return n},n}function In(){var n=Object(o.a)(["\n  color: #707070;\n"]);return In=function(){return n},n}function Pn(){var n=Object(o.a)(["\n  font-size: 24px;\n  word-break: break-all;\n"]);return Pn=function(){return n},n}function Cn(){var n=Object(o.a)(["\n  padding: 20px;\n  margin: 10px 0;\n  justify-content: space-between;\n"]);return Cn=function(){return n},n}var Nn=l.a.div(Cn()),zn=l.a.h2(Pn()),Ln=l.a.div(In()),Mn=l.a.div(Sn()),Tn=l.a.div(En()),Fn=Object(l.a)(rn)(kn());function An(n){var t,e,c=n.post,a=Object(b.c)(S),i=Object(b.b)(),o=Object(s.g)();return Object(r.jsxs)(Nn,{children:[Object(r.jsxs)(zn,{children:[a===c.userId?"[\u6211\u7684\u6587\u7ae0] ":"[".concat(c.user.nickname,"\u7684\u6587\u7ae0] "),c.title]}),Object(r.jsxs)(Tn,{children:[Object(r.jsx)(Ln,{children:new Date(c.createdAt).toLocaleString()}),a===c.userId?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Fn,{onClick:(e=c.id,function(){return o("/react-blog/post/edit/".concat(e))}),children:"\u7de8\u8f2f"}),Object(r.jsx)(Fn,{onClick:(t=c.id,function(){return i(yn(t)).then((function(n){0!==n.ok&&(i(hn(1,5)),o("/react-blog"))}))}),children:" \u522a\u9664"})]}):null]}),Object(r.jsx)(Mn,{children:c.body})]})}function $n(){return($n=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function Rn(n,t){if(null==n)return{};var e,r,c=function(n,t){if(null==n)return{};var e,r,c={},a=Object.keys(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)>=0||(c[e]=n[e]);return c}(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(c[e]=n[e])}return c}var Un=c.createElement("g",null,c.createElement("circle",{cx:60,cy:50,r:4,fill:"#d7adb0"},c.createElement("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",values:"95;35",keyTimes:"0;1",begin:"-0.67s"}),c.createElement("animate",{attributeName:"fill-opacity",repeatCount:"indefinite",dur:"1s",values:"0;1;1",keyTimes:"0;0.2;1",begin:"-0.67s"})),c.createElement("circle",{cx:60,cy:50,r:4,fill:"#d7adb0"},c.createElement("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",values:"95;35",keyTimes:"0;1",begin:"-0.33s"}),c.createElement("animate",{attributeName:"fill-opacity",repeatCount:"indefinite",dur:"1s",values:"0;1;1",keyTimes:"0;0.2;1",begin:"-0.33s"})),c.createElement("circle",{cx:60,cy:50,r:4,fill:"#d7adb0"},c.createElement("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",values:"95;35",keyTimes:"0;1",begin:"0s"}),c.createElement("animate",{attributeName:"fill-opacity",repeatCount:"indefinite",dur:"1s",values:"0;1;1",keyTimes:"0;0.2;1",begin:"0s"}))),Bn=c.createElement("g",{transform:"translate(-15 0)"},c.createElement("path",{d:"M50 50L20 50A30 30 0 0 0 80 50Z",fill:"#d7d3d0",transform:"rotate(90 50 50)"}),c.createElement("path",{d:"M50 50L20 50A30 30 0 0 0 80 50Z",fill:"#d7d3d0"},c.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;45 50 50;0 50 50",keyTimes:"0;0.5;1"})),c.createElement("path",{d:"M50 50L20 50A30 30 0 0 1 80 50Z",fill:"#d7d3d0"},c.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;-45 50 50;0 50 50",keyTimes:"0;0.5;1"})));function Dn(n,t){var e=n.title,r=n.titleId,a=Rn(n,["title","titleId"]);return c.createElement("svg",$n({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"none",display:"block",shapeRendering:"auto"},width:"136px",height:"136px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":r},a),e?c.createElement("title",{id:r},e):null,Un,Bn)}var _n=c.forwardRef(Dn);e.p;function Jn(){var n=Object(o.a)(["\n  padding-top: 150px;\n  margin: 0 auto;\n  text-align: center;\n"]);return Jn=function(){return n},n}var Zn=l.a.div(Jn());function Yn(){return Object(r.jsx)(Zn,{children:Object(r.jsx)(_n,{})})}function Hn(){var n=Object(o.a)(["\n  margin: 45px 0 0 0;\n"]);return Hn=function(){return n},n}function Vn(){var n=Object(o.a)(["\n  margin: 25px 10vw 0;\n  min-height: calc(100vh - 123px);\n"]);return Vn=function(){return n},n}var Xn=l.a.div(Vn()),qn=l.a.h1(Hn()),Gn=function(n){return n.posts.slice(0,5).map((function(n){return Object(r.jsx)(An,{post:n},n.id)}))};function Kn(){var n=Object(b.b)(),t=Object(b.c)(un),e=Object(b.c)(on);return Object(c.useEffect)((function(){return n(hn(1,5))}),[n]),Object(r.jsx)(Xn,{children:t?Object(r.jsx)(Yn,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(qn,{children:"\u6700\u65b0\u6587\u7ae0"}),Object(r.jsx)(Gn,{posts:e})]})})}var Qn=e(6);function Wn(){var n=Object(o.a)(["\n  height: auto;\n  min-height: 290px;\n  max-width: ","px;\n  margin: 35px auto 0;\n  padding: ",";\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n"]);return Wn=function(){return n},n}var nt=l.a.form(Wn(),(function(n){return n.$width}),(function(n){return"post"===n.$paddingType?"10px 30px 30px 30px":"20px"}));function tt(){var n=Object(o.a)(["\n  border: none;\n  outline: none;\n  padding: 5px 10px;\n  border-bottom: 1px solid #909090;\n  background: transparent;\n  letter-spacing: 5px;\n  color: #808080;\n  font-size: 16px;\n"]);return tt=function(){return n},n}function et(){var n=Object(o.a)(["\n  margin: 20px 0;\n"]);return et=function(){return n},n}var rt=l.a.div(et()),ct=l.a.input(tt());function at(n){var t=n.type,e=n.value,c=n.title,a=n.handleInputFocus,i=n.handleInputChange;return Object(r.jsxs)(rt,{children:[c,Object(r.jsx)(ct,{type:t,value:e,onFocus:a,onChange:i})]})}function it(){var n=Object(o.a)(["\n  margin-left: 10px;\n"]);return it=function(){return n},n}function ot(){var n=Object(o.a)(["\n  margin-top: 20px;\n"]);return ot=function(){return n},n}var ut=l.a.div(ot()),st=l.a.label(it());function lt(n){var t=n.togglePassword;return Object(r.jsxs)(ut,{children:[Object(r.jsx)("input",{type:"checkbox",onClick:t,id:"password"}),Object(r.jsx)(st,{htmlFor:"password",children:"\u986f\u793a\u5bc6\u78bc "})]})}function bt(){var n=Object(o.a)(["\n  color: red;\n  margin: 10px 0;\n  height: ","px;\n  display: ",";\n"]);return bt=function(){return n},n}var jt=l.a.div(bt(),(function(n){return n.$height}),(function(n){return n.errorMessage?"1":"hidden"}));function dt(){var n=Object(o.a)(["\n  margin: 30px auto 10px;\n"]);return dt=function(){return n},n}function ft(){var n=Object(o.a)(["\n  margin: 40px auto;\n  color: #909090;\n"]);return ft=function(){return n},n}function pt(){var n=Object(o.a)(["\n  font-size: 24px;\n"]);return pt=function(){return n},n}function xt(){var n=Object(o.a)(["\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n"]);return xt=function(){return n},n}var Ot=l.a.div(xt()),ht=l.a.h1(pt()),gt=l.a.div(ft()),mt=Object(l.a)(rn)(dt());function vt(){var n=Object(b.b)(),t=Object(s.g)(),e=Object(c.useState)(""),a=Object(Qn.a)(e,2),i=a[0],o=a[1],u=Object(c.useState)(""),l=Object(Qn.a)(u,2),j=l[0],d=l[1],x=Object(c.useState)(!1),O=Object(Qn.a)(x,2),h=O[0],g=O[1],m=Object(b.c)(P),v=Object(b.c)(I),y=function(){return n(L(null))},k=function(n){return function(t){return n(t.target.value)}};return Object(c.useEffect)((function(){return function(){return n(L(null))}}),[n]),Object(r.jsx)(Ot,{children:Object(r.jsxs)(nt,{onSubmit:function(e){var r;e.preventDefault(),n((r={username:i,password:j},function(){var n=Object(p.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(N(!0)),n.next=3,w(r).then((function(n){return M(n,t)}));case 3:return n.abrupt("return",t(T()));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())).then((function(n){n&&t("/react-blog")}))},$width:350,children:[Object(r.jsx)(ht,{children:"\u8acb\u767b\u5165\u90e8\u843d\u683c"}),Object(r.jsx)(at,{type:"text",title:"\u5e33\u865f\uff1a",value:i,handleInputFocus:y,handleInputChange:k(o)}),Object(r.jsx)(at,{type:h?"text":"password",title:"\u5bc6\u78bc\uff1a",value:j,handleInputFocus:y,handleInputChange:k(d)}),Object(r.jsx)(lt,{togglePassword:function(){return g(!h)}}),v?Object(r.jsx)(gt,{children:"Loading..."}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(jt,{errorMessage:m,$height:15,children:m}),Object(r.jsx)(mt,{children:"\u767b\u5165"})]})]})})}function yt(){var n=Object(o.a)(["\n  margin: 10px auto;\n"]);return yt=function(){return n},n}function wt(){var n=Object(o.a)(["\n  margin: 20px 0 10px 0;\n  color: #909090;\n"]);return wt=function(){return n},n}function kt(){var n=Object(o.a)(["\n  color: red;\n  font-size: 16px;\n"]);return kt=function(){return n},n}function Et(){var n=Object(o.a)(["\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  height: 150px;\n  font-size: 16px;\n"]);return Et=function(){return n},n}function St(){var n=Object(o.a)(["\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  font-size: 16px;\n"]);return St=function(){return n},n}function It(){var n=Object(o.a)(["\n  margin-bottom: 10px;\n"]);return It=function(){return n},n}function Pt(){var n=Object(o.a)(["\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: column;\n"]);return Pt=function(){return n},n}function Ct(){var n=Object(o.a)(["\n  font-size: 28px;\n  margin: 0px;\n"]);return Ct=function(){return n},n}function Nt(){var n=Object(o.a)(["\n  margin-bottom: 10px;\n  text-align: center;\n"]);return Nt=function(){return n},n}function zt(){var n=Object(o.a)(["\n  margin-top: 30px;\n  min-height: calc(100vh - 143px);\n"]);return zt=function(){return n},n}var Lt=l.a.div(zt()),Mt=l.a.div(Nt()),Tt=l.a.h1(Ct()),Ft=l.a.div(Pt()),At=l.a.div(It()),$t=l.a.input(St()),Rt=l.a.textarea(Et()),Ut=l.a.div(kt()),Bt=l.a.div(wt()),Dt=Object(l.a)(rn)(yt());function _t(){var n=Object(c.useState)(""),t=Object(Qn.a)(n,2),e=t[0],a=t[1],i=Object(c.useState)(""),o=Object(Qn.a)(i,2),u=o[0],l=o[1],j=Object(b.b)(),d=Object(s.g)(),f=Object(b.c)(sn),p=Object(b.c)(un),x=Object(b.c)(S),O=function(){return j(pn(null))},h=function(n){return function(t){return n(t.target.value)}};return Object(c.useEffect)((function(){x||d("/react-blog")}),[x,d]),Object(r.jsx)(Lt,{children:Object(r.jsxs)(nt,{onSubmit:function(n){n.preventDefault(),j(mn({title:e,body:u})).then((function(n){if(!n.id)return j(pn(n.message));d("/react-blog/post/"+n.id)}))},$width:460,$paddingType:"post",children:[Object(r.jsx)(Mt,{children:Object(r.jsx)(Tt,{children:"\u65b0\u6587\u7ae0"})}),Object(r.jsxs)(Ft,{children:[Object(r.jsx)(At,{children:"\u6a19\u984c\uff1a"}),Object(r.jsx)($t,{value:e,onChange:h(a),onFocus:O})]}),Object(r.jsxs)(Ft,{children:[Object(r.jsx)(At,{children:"\u5167\u5bb9\uff1a"}),Object(r.jsx)(Rt,{value:u,col:"20",onChange:h(l),onFocus:O})]}),p?Object(r.jsx)(Bt,{children:"Loading..."}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Dt,{children:"\u9001\u51fa\u6587\u7ae0"}),f&&Object(r.jsx)(Ut,{children:f})]})]})})}function Jt(){var n=Object(o.a)(["\n  margin: 10px auto;\n"]);return Jt=function(){return n},n}function Zt(){var n=Object(o.a)(["\n  color: red;\n  font-size: 16px;\n"]);return Zt=function(){return n},n}function Yt(){var n=Object(o.a)(["\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  height: 150px;\n  font-size: 16px;\n"]);return Yt=function(){return n},n}function Ht(){var n=Object(o.a)(["\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  font-size: 16px;\n"]);return Ht=function(){return n},n}function Vt(){var n=Object(o.a)(["\n  margin-bottom: 10px;\n"]);return Vt=function(){return n},n}function Xt(){var n=Object(o.a)(["\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: column;\n"]);return Xt=function(){return n},n}function qt(){var n=Object(o.a)(["\n  font-size: 28px;\n  margin: 0px;\n"]);return qt=function(){return n},n}function Gt(){var n=Object(o.a)(["\n  margin-bottom: 10px;\n  text-align: center;\n"]);return Gt=function(){return n},n}function Kt(){var n=Object(o.a)(["\n  margin-top: 30px;\n  min-height: calc(100vh - 143px);\n"]);return Kt=function(){return n},n}var Qt=l.a.div(Kt()),Wt=l.a.div(Gt()),ne=l.a.h1(qt()),te=l.a.div(Xt()),ee=l.a.div(Vt()),re=l.a.input(Ht()),ce=l.a.textarea(Yt()),ae=l.a.div(Zt()),ie=Object(l.a)(rn)(Jt());function oe(){var n=Object(s.h)().id,t=Object(b.c)(S),e=Object(c.useState)(""),a=Object(Qn.a)(e,2),i=a[0],o=a[1],u=Object(c.useState)(""),l=Object(Qn.a)(u,2),j=l[0],d=l[1],f=Object(b.b)(),p=Object(s.g)(),x=Object(b.c)(sn),O=function(){return f(pn(null))},h=function(n){return function(t){return n(t.target.value)}};return Object(c.useEffect)((function(){return f(gn(n)).then((function(n){if(n.userId!==t)return p("/react-blog/");o(n.title),d(n.body)})),function(){return f(gn(n))}}),[f,p,n,t]),Object(r.jsx)(Qt,{children:Object(r.jsxs)(nt,{onSubmit:function(t){if(t.preventDefault(),!i||!j||""===i.trim()||""===j.trim())return f(pn("\u4e0d\u80fd\u7a7a\u767d\u54e6"));f(vn({id:n,title:i,body:j})),p("/react-blog/post/"+n)},$width:460,$paddingType:"post",children:[Object(r.jsx)(Wt,{children:Object(r.jsxs)(ne,{children:["\u7de8\u8f2f\u6587\u7ae0 #",n]})}),Object(r.jsxs)(te,{children:[Object(r.jsx)(ee,{children:"\u6a19\u984c\uff1a"}),Object(r.jsx)(re,{value:i,onChange:h(o),onFocus:O})]}),Object(r.jsxs)(te,{children:[Object(r.jsx)(ee,{children:"\u5167\u5bb9\uff1a"}),Object(r.jsx)(ce,{value:j,onChange:h(d),onFocus:O})]}),Object(r.jsx)(ie,{href:"#",children:"\u9001\u51fa\u6587\u7ae0"}),x&&Object(r.jsx)(ae,{children:x})]})})}function ue(){var n=Object(o.a)(["\n  margin: 0 10vw;\n  min-height: calc(100vh - 123px);\n"]);return ue=function(){return n},n}var se=l.a.div(ue());function le(){var n=Object(s.h)().id,t=Object(b.b)(),e=Object(b.c)(un),a=Object(b.c)(an);return Object(c.useEffect)((function(){return t(gn(n))}),[t,n]),Object(r.jsx)(se,{children:!e&&a?Object(r.jsx)(An,{post:a}):Object(r.jsx)(Yn,{})})}function be(){var n=Object(o.a)(["\n  margin-bottom: 10px;\n"]);return be=function(){return n},n}function je(){var n=Object(o.a)(["\n  margin: 0 15px;\n"]);return je=function(){return n},n}function de(){var n=Object(o.a)(["\n  display: flex;\n"]);return de=function(){return n},n}function fe(){var n=Object(o.a)(["\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return fe=function(){return n},n}var pe=l.a.div(fe()),xe=l.a.div(de()),Oe=l.a.a(je()),he=l.a.div(be());function ge(n){var t=n.pagination,e=n.limit,c=n.totalPostsNumber,a=n.currentPage,i=n.setCurrentPage,o=Object(b.b)(),u=function(n){return function(){o(hn(n,e)),i(n)}};return Object(r.jsxs)(pe,{children:[Object(r.jsx)(he,{children:"\u5171\u6709 ".concat(c," \u7bc7\u6587\u7ae0\uff0c\u76ee\u524d\u5728\u7b2c ").concat(a," \u9801")}),Object(r.jsx)(xe,{children:t.map((function(n){return Object(r.jsx)(Oe,{href:"#",onClick:u(n),children:n},n)}))})]})}function me(){var n=Object(o.a)(["\n  color: #707070;\n"]);return me=function(){return n},n}function ve(){var n=Object(o.a)(["\n  font-size: 20px;\n  "," {\n    padding-bottom: 10px;\n  }\n"]);return ve=function(){return n},n}function ye(){var n=Object(o.a)(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 20px;\n  display: flex;\n  algin-items: flex-end;\n  justify-content: space-between;\n  flex-direction: column;\n  "," {\n    flex-direction: row;\n  }\n"]);return ye=function(){return n},n}function we(){var n=Object(o.a)(["\n  min-height: 90vh;\n  margin-top: 20px;\n  margin: 45px 10vw;\n  "," {\n    margin: 0 10vw;\n  }\n"]);return we=function(){return n},n}var ke=l.a.div(we(),j),Ee=l.a.div(ye(),j),Se=Object(l.a)(u.b)(ve(),j),Ie=l.a.div(me());function Pe(n){var t=n.post;return Object(r.jsxs)(Ee,{children:[Object(r.jsxs)(Se,{to:"/react-blog/post/".concat(t.id),children:[t.user.nickname.length>10?"[".concat(t.user.nickname.slice(0,9),"...\u7684\u6587\u7ae0] "):"[".concat(t.user.nickname,"\u7684\u6587\u7ae0] "),t.title.length>20?"".concat(t.title.slice(0,20),"..."):"".concat(t.title)]}),Object(r.jsx)(Ie,{children:new Date(t.createdAt).toLocaleString()})]})}function Ce(){var n=Object(c.useState)([]),t=Object(Qn.a)(n,2),e=t[0],a=t[1],i=Object(c.useRef)(),o=Object(b.b)(),u=Object(b.c)(un),s=Object(b.c)(on),l=Object(b.c)(ln),j=Object(c.useState)(1),d=Object(Qn.a)(j,2),f=d[0],p=d[1];return Object(c.useEffect)((function(){o(hn(1,5)),i.current=Math.ceil(l/5),a(Array.from({length:i.current}).map((function(n,t){return t+1})))}),[o,l]),Object(r.jsx)(ke,{children:u?Object(r.jsx)(Yn,{}):Object(r.jsxs)(r.Fragment,{children:[s[0]&&s.map((function(n){return Object(r.jsx)(Pe,{post:n},n.id)})),Object(r.jsx)(ge,{totalPostsNumber:l,pagination:e,limit:5,getData:hn,setValue:dn,currentPage:f,setCurrentPage:p})]})})}function Ne(){var n=Object(o.a)(["\n  margin: 10px auto;\n"]);return Ne=function(){return n},n}function ze(){var n=Object(o.a)(["\n  margin: 40px auto;\n  color: #909090;\n"]);return ze=function(){return n},n}function Le(){var n=Object(o.a)(["\n  font-size: 24px;\n"]);return Le=function(){return n},n}function Me(){var n=Object(o.a)(["\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n"]);return Me=function(){return n},n}var Te=l.a.div(Me()),Fe=l.a.h1(Le()),Ae=l.a.div(ze()),$e=Object(l.a)(rn)(Ne());function Re(){var n=Object(s.g)(),t=Object(b.b)(),e=Object(c.useState)(""),a=Object(Qn.a)(e,2),i=a[0],o=a[1],u=Object(c.useState)(""),l=Object(Qn.a)(u,2),j=l[0],d=l[1],x=Object(c.useState)(""),O=Object(Qn.a)(x,2),h=O[0],g=O[1],m=Object(c.useState)(!1),v=Object(Qn.a)(m,2),y=v[0],w=v[1],E=Object(b.c)(I),S=Object(b.c)(P),C=function(){return t(L(null))},z=function(n){return function(t){return n(t.target.value)}};return Object(c.useEffect)((function(){return function(){return t(L(null))}}),[t]),Object(r.jsx)(Te,{children:Object(r.jsxs)(nt,{onSubmit:function(e){var r;e.preventDefault(),t((r={nickname:i,username:j,password:h},function(){var n=Object(p.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(N(!0)),n.next=3,k(r).then((function(n){return M(n,t)}));case 3:return n.abrupt("return",t(T()));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())).then((function(t){t&&n("/react-blog")}))},$width:360,children:[Object(r.jsx)(Fe,{children:"\u8a3b\u518a\u65b0\u5e33\u865f"}),Object(r.jsx)(at,{type:"text",title:"\u66b1\u7a31\uff1a",value:i,handleInputFocus:C,handleInputChange:z(o)}),Object(r.jsx)(at,{type:"text",title:"\u5e33\u865f\uff1a",value:j,handleInputFocus:C,handleInputChange:z(d)}),Object(r.jsx)(at,{type:y?"text":"password",title:"\u5bc6\u78bc\uff1a",value:h,handleInputFocus:C,handleInputChange:z(g)}),Object(r.jsx)(lt,{togglePassword:function(){return w(!y)}}),E?Object(r.jsx)(Ae,{children:"Loading..."}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(jt,{errorMessage:S,$height:35,children:S}),Object(r.jsx)($e,{children:"\u8a3b\u518a"})]})]})})}function Ue(){var n=Object(o.a)(["\n  background: rgb(49 49 49);\n  padding: 6px 0;\n  width: 100%;\n  color: whitesmoke;\n  text-align: center;\n"]);return Ue=function(){return n},n}function Be(){var n=Object(o.a)(["\n  padding-top: 84px;\n  height: 100%;\n"]);return Be=function(){return n},n}var De=l.a.div(Be()),_e=l.a.div(Ue());var Je=function(){var n=Object(b.b)();return Object(c.useEffect)((function(){n(T())}),[n]),Object(r.jsx)(De,{children:Object(r.jsxs)(u.a,{children:[Object(r.jsx)(H,{}),Object(r.jsxs)(s.c,{basename:"/react-blog",children:[Object(r.jsx)(s.a,{path:"/",element:Object(r.jsx)(Kn,{})}),Object(r.jsx)(s.a,{path:"/register",element:Object(r.jsx)(Re,{})}),Object(r.jsx)(s.a,{path:"/login",element:Object(r.jsx)(vt,{})}),Object(r.jsx)(s.a,{path:"/posts",element:Object(r.jsx)(Ce,{})}),Object(r.jsx)(s.a,{path:"/post/:id",element:Object(r.jsx)(le,{})}),Object(r.jsx)(s.a,{path:"/post/edit/:id",element:Object(r.jsx)(oe,{})}),Object(r.jsx)(s.a,{path:"/new-post",element:Object(r.jsx)(_t,{})}),Object(r.jsx)(s.a,{path:"/about-me",element:Object(r.jsx)(tn,{})})]}),Object(r.jsx)(_e,{children:"Made with \u2764\ufe0f by Nicolas"})]})})},Ze=Object(x.a)({reducer:{posts:wn,user:F}});e(37);i.a.render(Object(r.jsx)(b.a,{store:Ze,children:Object(r.jsx)(Je,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.2c8fdcf3.chunk.js.map