{"version":3,"sources":["contexts.js","utils.js","WebAPI.js","components/Navbar/Navbar.js","images/bean.svg","components/Loading/Loading.js","components/Post/Post.js","pages/HomePage/HomePage.js","components/SubmitButton/SubmitButton.js","pages/LoginPage/LoginPage.js","pages/RegisterPage/Register.js","components/Pagination/Pagination.js","pages/PostsPage/PostsPage.js","pages/PostPage/PostPage.js","pages/NewPostPage/NewPostPage.js","pages/AboutMePage/AboutMePage.js","components/App/App.js","index.js"],"names":["AuthContext","createContext","LoadingContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getPosts","fetch","then","res","json","getLimitedPosts","page","limit","getMe","headers","authorization","NavbarContainer","styled","div","NavbarList","Brand","Link","Nav","NavLink","Logout","a","Navbar","useContext","user","setUser","navigate","useNavigate","to","children","onClick","alert","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","cx","cy","r","fill","attributeName","repeatCount","dur","values","keyTimes","begin","_ref3","transform","d","type","SvgBean","_ref","svgRef","title","titleId","props","style","margin","background","display","shapeRendering","width","height","viewBox","preserveAspectRatio","ref","id","ForwardRef","LoadingWrapper","Loading","PostContainer","PostTitle","h2","PostDate","PostBody","Post","post","Date","createdAt","toLocaleString","body","Root","Title","h1","LatestPosts","posts","slice","map","HomePage","isLoading","setIsLoading","useState","setPosts","useEffect","SubmitButton","button","ErrorMessage","LoginWrapper","form","InputWrapper","Input","input","ShowPasswordRadio","LoginPage","username","setUsername","password","setPassword","showPassword","setShowPassword","errorMessage","setErrorMessage","onSubmit","e","preventDefault","method","JSON","stringify","login","data","ok","message","response","toString","catch","err","value","onChange","onFocus","htmlFor","RegisterWrapper","RegisterPage","nickname","setNickname","register","PaginationContainer","Pages","Page","PaginationDescription","Pagination","pagination","getData","setValue","totalPostsNumber","currentPage","setCurrentPage","handleClickPage","PostsContainer","PostItem","PostsPage","setTotalPostsNumber","setPagination","pages","Math","ceil","Array","from","_","PostPage","setPost","useParams","getPost","TitleWrapper","Form","InputHeader","TitleInput","BodyInput","textarea","NewPostPage","setTitle","setBody","controlInput","initializeErrorMessage","addPost","col","PageWrapper","Content","AboutMePage","Footer","App","HOMEPAGE_URL","Provider","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.54b7edd1.chunk.js","sourcesContent":["import { createContext } from 'react';\nexport const AuthContext = createContext(null);\nexport const LoadingContext = createContext(null);","const TOKEN_NAME = 'token';\n\nexport const setAuthToken = (token) => {\n  return localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n","import { getAuthToken } from './utils';\n\nconst BASE_URL = 'https://student-json-api.lidemy.me';\n\nexport const getPosts = () => {\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`).then((res) =>\n    res.json()\n  );\n};\n\nexport const getLimitedPosts = (page, limit) => {\n  return fetch(\n    `${BASE_URL}/posts?_page=${page}&_limit=${limit}&_sort=createdAt&_order=desc`\n  ).then((res) => res.json());\n};\n\nexport const getPost = (id) => {\n  return fetch(`${BASE_URL}/posts?id=${id}`).then((res) => res.json());\n};\n\nexport const login = (username, password) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const register = (nickname, username, password) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const addPost = (title, body) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts`, {\n    method: 'POST',\n    headers: {\n      authorization: `Bearer ${token}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n","import { useContext } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport { AuthContext } from '../../contexts';\nimport { useNavigate } from 'react-router-dom';\nimport { setAuthToken } from '../../utils';\nimport styled from 'styled-components';\n\nconst NavbarContainer = styled.div`\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  box-shadow: 0px 1px 10px rgba(0, 0, 0, 0.5);\n  padding: 0px 5vw;\n  background: white;\n`;\n\nconst NavbarList = styled.div`\n  display: flex;\n`;\n\nconst Brand = styled(Link)`\n  font-size: 32px;\n  color: #017a75;\n`;\n\nconst Nav = styled(NavLink)`\n  display: flex;\n  align-items: center;\n  margin: 0 30px;\n  height: 64px;\n`;\n\nconst Logout = styled.a`\n  display: flex;\n  align-items: center;\n  margin: 0 30px;\n  height: 64px;\n`;\n\nexport default function Navbar() {\n  const { user, setUser } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const handleLogout = () => {\n    setAuthToken('');\n    setUser(null);\n    alert('登出成功');\n    navigate('/react-blog');\n  };\n  return (\n    <NavbarContainer>\n      <Brand to=\"/react-blog\" children=\"React Blog\" />\n      <NavbarList>\n        <Nav to=\"/react-blog/about-me\" children=\"關於我\" />\n        <Nav to=\"/react-blog/posts\" children=\"文章列表\" />\n        {localStorage.token ? (\n          <>\n            {user && <Nav to=\"/react-blog/new-post\" children=\"發佈文章\" />}\n            {user && <Logout onClick={handleLogout} children=\"登出\" />}\n          </>\n        ) : (\n          <>\n            {!user && <Nav to=\"/react-blog/login\" children=\"登入\" />}\n            {!user && <Nav to=\"/react-blog/register\" children=\"註冊\" />}\n          </>\n        )}\n      </NavbarList>\n    </NavbarContainer>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 60,\n  cy: 50,\n  r: 4,\n  fill: \"#d7adb0\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"cx\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"95;35\",\n  keyTimes: \"0;1\",\n  begin: \"-0.67s\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0;1;1\",\n  keyTimes: \"0;0.2;1\",\n  begin: \"-0.67s\"\n})), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 60,\n  cy: 50,\n  r: 4,\n  fill: \"#d7adb0\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"cx\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"95;35\",\n  keyTimes: \"0;1\",\n  begin: \"-0.33s\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0;1;1\",\n  keyTimes: \"0;0.2;1\",\n  begin: \"-0.33s\"\n})), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 60,\n  cy: 50,\n  r: 4,\n  fill: \"#d7adb0\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"cx\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"95;35\",\n  keyTimes: \"0;1\",\n  begin: \"0s\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0;1;1\",\n  keyTimes: \"0;0.2;1\",\n  begin: \"0s\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-15 0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M50 50L20 50A30 30 0 0 0 80 50Z\",\n  fill: \"#d7d3d0\",\n  transform: \"rotate(90 50 50)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M50 50L20 50A30 30 0 0 0 80 50Z\",\n  fill: \"#d7d3d0\"\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"rotate\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0 50 50;45 50 50;0 50 50\",\n  keyTimes: \"0;0.5;1\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M50 50L20 50A30 30 0 0 1 80 50Z\",\n  fill: \"#d7d3d0\"\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"rotate\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  values: \"0 50 50;-45 50 50;0 50 50\",\n  keyTimes: \"0;0.5;1\"\n})));\n\nfunction SvgBean(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    style: {\n      margin: \"auto\",\n      background: \"none\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"136px\",\n    height: \"136px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBean);\nexport default __webpack_public_path__ + \"static/media/bean.f2665f75.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\nimport { ReactComponent as Bean } from '../../images/bean.svg';\n\nconst LoadingWrapper = styled.div`\n  padding-top: 150px;\n  margin: 0 auto;\n  text-align: center;\n`;\n\nexport default function Loading() {\n  return (\n    <LoadingWrapper>\n      <Bean />\n    </LoadingWrapper>\n  );\n}\n","import styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst PostContainer = styled.div`\n  padding: 20px;\n  margin: 10px 0;\n  justify-content: space-between;\n`;\n\nconst PostTitle = styled.h2`\n  font-size: 24px;\n`;\n\nconst PostDate = styled.div`\n  padding-bottom: 20px;\n  color: #707070;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n`;\n\nconst PostBody = styled.div`\n  margin-top: 20px;\n`;\n\nexport default function Post({ post }) {\n  return (\n    <PostContainer>\n      <PostTitle>{post.title}</PostTitle>\n      <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n      <PostBody>{post.body}</PostBody>\n    </PostContainer>\n  );\n}\n\nPost.propTypes = {\n  post: PropTypes.object.isRequired,\n}","import { useEffect, useState, useContext } from 'react';\r\nimport { getPosts } from '../../WebAPI';\r\nimport { LoadingContext } from '../../contexts';\r\nimport Loading from '../../components/Loading';\r\nimport Post from '../../components/Post';\r\nimport styled from 'styled-components';\r\n\r\nconst Root = styled.div`\r\n  margin: 0 10vw;\r\n  min-height: calc(100vh - 123px);\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  margin-bottom: 0;\r\n`;\r\n\r\nfunction LatestPosts({ posts }) {\r\n  return posts.slice(0, 5).map((post) => <Post key={post.id} post={post} />);\r\n}\r\n\r\nexport default function HomePage() {\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    getPosts()\r\n      .then((posts) => setPosts(posts))\r\n      .then(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }, [setIsLoading]);\r\n\r\n  return (\r\n    <Root>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          <Title>最新文章</Title>\r\n          <LatestPosts posts={posts} />\r\n        </>\r\n      )}\r\n    </Root>\r\n  );\r\n}\r\n","import styled from 'styled-components';\n\nconst SubmitButton = styled.button`\n  padding: 5px 10px;\n  margin: 10px auto;\n  border-radius: 10px;\n  border: transparent;\n  background: #909090;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  font-size: 16px;\n  box-shadow: 0px 5px 2px #707070;\n  &:active {\n    transform: translateY(2px);\n    box-shadow: 0px 3px 2px #888888;\n  }\n`;\n\nexport default SubmitButton;","import { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { setAuthToken } from '../../utils';\nimport { login, getMe } from '../../WebAPI';\nimport { AuthContext } from '../../contexts';\nimport styled from 'styled-components';\nimport SubmitButton from '../../components/SubmitButton';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n`;\n\nconst Title = styled.h1`\n  font-size: 24px;\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  margin: 10px 0;\n`;\n\nconst LoginWrapper = styled.form`\n  width: 360px;\n  height: 270px;\n  margin: 20px auto 0;\n  padding: 20px;\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n`;\n\nconst InputWrapper = styled.div`\n  margin: 20px 0;\n`;\n\nconst Input = styled.input`\n  border: none;\n  outline: none;\n  padding: 5px 10px;\n  border-bottom: 1px solid #909090;\n  background: transparent;\n  letter-spacing: 5px;\n  color: #808080;\n  font-size: 16px;\n`;\n\nconst ShowPasswordRadio = styled.div`\n  margin-top: 10px;\n`;\n\nexport default function LoginPage() {\n  const { setUser } = useContext(AuthContext);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const navigate = useNavigate();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(username, password)\n      .then((data) => {\n        if (data.ok === 0) setErrorMessage(data.message);\n        setAuthToken(data.token);\n        getMe()\n          .then((response) => {\n            if (response.ok !== 1) {\n              setAuthToken(null);\n              return setErrorMessage(response.toString());\n            }\n            setUser(response.data);\n            navigate('/react-blog/');\n          })\n          .catch((err) => {\n            alert(err);\n            navigate('/react-blog/');\n          });\n      })\n      .catch((err) => setErrorMessage(err));\n  };\n\n  return (\n    <Root>\n      <LoginWrapper onSubmit={handleSubmit}>\n        <Title>請登入部落格</Title>\n        <InputWrapper>\n          帳號：{' '}\n          <Input\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            onFocus={() => setErrorMessage(null)}\n          />\n        </InputWrapper>\n\n        <InputWrapper>\n          密碼：{' '}\n          <Input\n            type={showPassword ? 'text' : 'password'}\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            onFocus={() => setErrorMessage(null)}\n          />\n          <ShowPasswordRadio>\n            <input\n              type=\"checkbox\"\n              onClick={() => setShowPassword(showPassword ? false : true)}\n              id=\"password\"\n            />\n            <label htmlFor=\"password\">顯示密碼 </label>\n          </ShowPasswordRadio>\n        </InputWrapper>\n        <SubmitButton>登入</SubmitButton>\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      </LoginWrapper>\n    </Root>\n  );\n}\n","import { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { setAuthToken } from '../../utils';\nimport { register, getMe } from '../../WebAPI';\nimport { AuthContext } from '../../contexts';\nimport { LoadingContext } from '../../contexts';\nimport styled from 'styled-components';\nimport SubmitButton from '../../components/SubmitButton';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n`;\n\nconst Title = styled.h1`\n  font-size: 24px;\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  margin: 10px 0;\n`;\n\nconst RegisterWrapper = styled.form`\n  width: 360px;\n  height: 360px;\n  margin: 20px auto 0;\n  padding: 20px;\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n`;\n\nconst InputWrapper = styled.div`\n  margin: 20px 0;\n`;\n\nconst Input = styled.input`\n  border: none;\n  outline: none;\n  padding: 5px 10px;\n  border-bottom: 1px solid #909090;\n  background: transparent;\n  letter-spacing: 5px;\n  color: #808080;\n  font-size: 16px;\n`;\n\nconst ShowPasswordRadio = styled.div`\n  margin-top: 10px;\n`;\n\nconst Loading = styled.div`\n  margin: 20px 0 10px 0;\n  color: #909090;\n`;\n\nexport default function RegisterPage() {\n  const { setUser } = useContext(AuthContext);\n  const [nickname, setNickname] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const navigate = useNavigate();\n  const handleSubmit = (e) => {\n    setIsLoading(true);\n    e.preventDefault();\n    register(nickname, username, password)\n      .then((data) => {\n        if (data.ok === 0) {\n          setIsLoading(false);\n          return setErrorMessage(data.message);\n        }\n        setAuthToken(data.token);\n        getMe()\n          .then((response) => {\n            if (response.ok !== 1) {\n              setAuthToken(null);\n              return setErrorMessage(response.toString());\n            }\n            setUser(response.data);\n            navigate('/react-blog/');\n            setIsLoading(false);\n          })\n          .catch((err) => {\n            navigate('/react-blog/');\n            setIsLoading(false);\n            return setErrorMessage(err);\n          });\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        setErrorMessage(err);\n      });\n  };\n\n  return (\n    <Root>\n      <RegisterWrapper onSubmit={handleSubmit}>\n        <Title>註冊新帳號</Title>\n        <InputWrapper>\n          暱稱：{' '}\n          <Input\n            value={nickname}\n            onChange={(e) => setNickname(e.target.value)}\n            onFocus={() => setErrorMessage(null)}\n          />\n        </InputWrapper>\n        <InputWrapper>\n          帳號：{' '}\n          <Input\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            onFocus={() => setErrorMessage(null)}\n          />\n        </InputWrapper>\n        <InputWrapper>\n          密碼：{' '}\n          <Input\n            type={showPassword ? 'text' : 'password'}\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            onFocus={() => setErrorMessage(null)}\n          />\n          <ShowPasswordRadio>\n            <input\n              type=\"checkbox\"\n              onClick={() => setShowPassword(showPassword ? false : true)}\n              id=\"password\"\n            />\n            <label htmlFor=\"password\">顯示密碼 </label>\n          </ShowPasswordRadio>\n        </InputWrapper>\n        {isLoading ? (\n          <Loading>Loading...</Loading>\n        ) : (\n          <SubmitButton>註冊</SubmitButton>\n        )}\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      </RegisterWrapper>\n    </Root>\n  );\n}\n","import { useState } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst PaginationContainer = styled.div`\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Pages = styled.div`\n  display: flex;\n`;\n\nconst Page = styled.a`\n  margin: 0 15px;\n`;\n\nconst PaginationDescription = styled.div`\n  margin-bottom: 10px;\n`;\n\nexport default function Pagination({\n  pagination,\n  limit,\n  getData,\n  setValue,\n  totalPostsNumber,\n}) {\n  const [currentPage, setCurrentPage] = useState(1);\n  const handleClickPage = (page) => () => {\n    getData(page, limit).then((posts) => setValue(posts));\n    setCurrentPage(page);\n  };\n\n  return (\n    <PaginationContainer>\n      <PaginationDescription>\n        {`共有 ${totalPostsNumber} 篇文章，目前在第 ${currentPage} 頁`}\n      </PaginationDescription>\n      <Pages>\n        {pagination.map((page) => (\n          <Page key={page} onClick={handleClickPage(page)}>\n            {page}\n          </Page>\n        ))}\n      </Pages>\n    </PaginationContainer>\n  );\n}\n\nPagination.propTypes = {\n  pagination: PropTypes.array.isRequired,\n  limit: PropTypes.number.isRequired,\n  getData: PropTypes.func.isRequired,\n  setValue: PropTypes.func.isRequired,\n  totalPostsNumber: PropTypes.number,\n}","import { useEffect, useState, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getPosts, getLimitedPosts } from '../../WebAPI';\r\nimport { LoadingContext } from '../../contexts';\r\nimport styled from 'styled-components';\r\nimport PropTypes from 'prop-types';\r\nimport Pagination from '../../components/Pagination';\r\nimport Loading from '../../components/Loading';\r\n\r\nconst Root = styled.div`\r\n  margin: 0 10vw;\r\n  height: calc(100vh - 123px);\r\n`;\r\n\r\nconst PostsContainer = styled.div`\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n  padding: 20px;\r\n  display: flex;\r\n  algin-items: flex-end;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst PostTitle = styled(Link)`\r\n  font-size: 20px;\r\n`;\r\n\r\nconst PostDate = styled.div`\r\n  color: #707070;\r\n`;\r\n\r\nfunction PostItem({ post }) {\r\n  return (\r\n    <PostsContainer>\r\n      <PostTitle to={`/react-blog/post/${post.id}`}>{post.title}</PostTitle>\r\n      <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\r\n    </PostsContainer>\r\n  );\r\n}\r\n\r\nexport default function PostsPage() {\r\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\r\n  const [posts, setPosts] = useState([]);\r\n  const [totalPostsNumber, setTotalPostsNumber] = useState();\r\n  const [pagination, setPagination] = useState([]);\r\n  const limit = 5;\r\n\r\n  useEffect(() => {\r\n    setIsLoading(() => true);\r\n    getPosts().then((posts) => {\r\n      const pages = Math.ceil(posts.length / limit);\r\n      setTotalPostsNumber(posts.length);\r\n      setPagination(Array.from({ length: pages }).map((_, i) => i + 1));\r\n      getLimitedPosts(1, limit)\r\n        .then((posts) => {\r\n          setPosts(posts);\r\n        })\r\n        .then(() => {\r\n          setIsLoading(() => false);\r\n        });\r\n    });\r\n  }, [setIsLoading]);\r\n\r\n  return (\r\n    <Root>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          {' '}\r\n          {posts[0] &&\r\n            posts.map((post) => <PostItem key={post.id} post={post} />)}\r\n          <Pagination\r\n            totalPostsNumber={totalPostsNumber}\r\n            pagination={pagination}\r\n            limit={limit}\r\n            getData={getLimitedPosts}\r\n            setValue={setPosts}\r\n          />\r\n        </>\r\n      )}\r\n    </Root>\r\n  );\r\n}\r\n\r\nPostItem.propTypes = {\r\n  post: PropTypes.object.isRequired,\r\n};\r\n","import { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getPost } from '../../WebAPI';\nimport { LoadingContext } from '../../contexts';\nimport Post from '../../components/Post';\nimport styled from 'styled-components';\nimport Loading from '../../components/Loading';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  min-height: calc(100vh - 123px);\n`;\n\nexport default function PostPage() {\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [post, setPost] = useState(null);\n  const { id } = useParams();\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPost(id).then((post) => setPost(post[0]));\n    setIsLoading(false);\n  }, [id, setIsLoading]);\n\n  return (<Root>\n    {(!isLoading && post) ? <Post post={post} /> : <Loading />}\n    </Root>);\n}\n","import { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { addPost } from '../../WebAPI';\nimport { LoadingContext } from '../../contexts';\nimport styled from 'styled-components';\nimport SubmitButton from '../../components/SubmitButton';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  min-height: calc(100vh - 143px);\n`;\n\nconst TitleWrapper = styled.div`\n  margin-bottom: 10px;\n  text-align: center;\n`;\n\nconst Title = styled.h1`\n  font-size: 28px;\n  margin: 0px;\n`;\n\nconst Form = styled.form`\n  width: 460px;\n  height: 390px;\n  margin: 20px auto 0;\n  padding: 10px 30px 30px 30px;\n  background: whitesmoke;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n`;\n\nconst InputWrapper = styled.div`\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst InputHeader = styled.div`\n  margin-bottom: 10px;\n`;\n\nconst TitleInput = styled.input`\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  font-size: 16px;\n`;\n\nconst BodyInput = styled.textarea`\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #808080;\n  outline: none;\n  height: 150px;\n  font-size: 16px;\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  font-size: 16px;\n`;\n\nconst Loading = styled.div`\n  margin: 20px 0 10px 0;\n  color: #909090;\n`;\n\nexport default function NewPostPage() {\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const navigate = useNavigate();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    addPost(title, body).then((response) => {\n      if (response.ok === 0) {\n        setErrorMessage(response.message);\n        setIsLoading(false);\n        return;\n      }\n      setIsLoading(false);\n      navigate('/react-blog/');\n    });\n  };\n\n  const controlInput = (setValue) => (e) => {\n    setValue(e.target.value);\n  };\n\n  const initializeErrorMessage = () => {\n    setErrorMessage(null);\n  };\n\n  return (\n    <Root>\n      <Form onSubmit={handleSubmit}>\n        <TitleWrapper>\n          <Title>新文章</Title>\n        </TitleWrapper>\n        <InputWrapper>\n          <InputHeader>標題：</InputHeader>\n          <TitleInput\n            value={title}\n            onChange={controlInput(setTitle)}\n            onFocus={initializeErrorMessage}\n          />\n        </InputWrapper>\n        <InputWrapper>\n          <InputHeader>內容：</InputHeader>\n          <BodyInput\n            value={body}\n            col=\"20\"\n            onChange={controlInput(setBody)}\n            onFocus={initializeErrorMessage}\n          />\n        </InputWrapper>\n        {isLoading ? (\n          <Loading>Loading...</Loading>\n        ) : (\n          <SubmitButton>送出文章</SubmitButton>\n        )}\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      </Form>\n    </Root>\n  );\n}\n","import styled from 'styled-components';\nimport { ReactComponent as Bean } from '../../images/bean.svg';\n\nconst Root = styled.div`\n  margin: 0 10vw;\n  height: calc(100vh - 143px);\n`;\n\nconst PageWrapper = styled.div`\n  width: 600px;\n  height: 400px;\n  margin: 20px auto 0;\n  padding: 20px;\n  background: rgba(210, 210, 210, 0.4);\n  text-align: center;\n  transition: all linear 0.2s;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  &:hover {\n    transition: all linear 0.2s;\n    box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.5);\n  }\n`;\n\nconst Title = styled.h1`\n  font-size: 36px;\n`;\n\nconst Content = styled.div`\n  display: flex\n  justify-content: center;\n`;\n\nexport default function AboutMePage() {\n  return (\n    <Root>\n      <PageWrapper>\n        <Title>A Simple Blog</Title>\n        <Content>\n          這是 React SPA 部落格練習～\n          <br />\n          使用 React Hooks, Styled Components, React Router 6\n          <Bean />\n        </Content>\n      </PageWrapper>\n    </Root>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport { AuthContext, LoadingContext } from '../../contexts';\nimport { getAuthToken } from '../../utils';\nimport { getMe } from '../../WebAPI';\nimport styled from 'styled-components';\nimport Navbar from '../Navbar';\nimport HomePage from '../../pages/HomePage';\nimport LoginPage from '../../pages/LoginPage';\nimport RegisterPage from '../../pages/RegisterPage';\nimport PostsPage from '../../pages/PostsPage';\nimport PostPage from '../../pages/PostPage';\nimport NewPostPage from '../../pages/NewPostPage';\nimport AboutMePage from '../../pages/AboutMePage';\n\nconst Root = styled.div`\n  padding-top: 84px;\n`;\n\nconst Footer = styled.div`\n  background: rgb(49 49 49);\n  padding: 6px 0;\n  bottom: 0;\n  width: 100%;\n  color: whitesmoke;\n  text-align: center;\n`;\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const HOMEPAGE_URL = '/react-blog';\n\n  useEffect(() => {\n    if (getAuthToken()) {\n      getMe().then((response) => {\n        if (response.ok) {\n          setUser(response.data);\n        }\n      })\n    }\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <Root>\n        <BrowserRouter>\n          <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\n            <Navbar/>\n            <Routes>\n              <Route path={HOMEPAGE_URL} element={<HomePage />} />\n              <Route path={`${HOMEPAGE_URL}/register`} element={<RegisterPage />} />\n              <Route path={`${HOMEPAGE_URL}/login`} element={<LoginPage />} />\n              <Route path={`${HOMEPAGE_URL}/posts`} element={<PostsPage />} />\n              <Route path={`${HOMEPAGE_URL}/post/:id`} element={<PostPage />} />\n              <Route path={`${HOMEPAGE_URL}/new-post`} element={<NewPostPage />} />\n              <Route path={`${HOMEPAGE_URL}/about-me`} element={<AboutMePage />} />\n            </Routes>\n          </LoadingContext.Provider>\n          <Footer>Made with ❤️ by Nicolas</Footer>\n        </BrowserRouter>\n      </Root>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}